
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>17. Geemap &#8212; Introduction to GIS Programming</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'book/geospatial/geemap';</script>
    <link rel="canonical" href="https://geog-312.gishub.org/book/geospatial/geemap.html" />
    <link rel="icon" href="../../_static/fav.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="18. SAMGeo" href="samgeo.html" />
    <link rel="prev" title="16. MapLibre" href="maplibre.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Introduction to GIS Programming - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Introduction to GIS Programming - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../about/instructor.html">Instructor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/syllabus.html">Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/schedule.html">Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/textbooks.html">Textbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/videos.html">Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/acknowledgments.html">Acknowledgments</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../software/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/miniconda.html">Miniconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/vscode.html">Visual Studio Code</a></li>

<li class="toctree-l1"><a class="reference internal" href="../software/git.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/colab.html">Google Colab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/jupyterlab.html">JupyterLab</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Python Basics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../python/01_get_started.html">1. Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/02_variables.html">2. Variables and Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/03_data_structures.html">3. Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/04_string_operations.html">4. String Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/05_looping.html">5. Looping and Control Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/06_functions_classes.html">6. Functions and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/07_files.html">7. Files and Exception Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/08_numpy_pandas.html">8. Intro to NumPy and Pandas</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">GeoPython</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="get_started.html">9. Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="geopandas.html">10. GeoPandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="rasterio.html">11. Rasterio</a></li>
<li class="toctree-l1"><a class="reference internal" href="xarray.html">12. Xarray</a></li>
<li class="toctree-l1"><a class="reference internal" href="rioxarray.html">13. Rioxarray</a></li>
<li class="toctree-l1"><a class="reference internal" href="leafmap.html">14. Leafmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="whitebox.html">15. Whitebox</a></li>
<li class="toctree-l1"><a class="reference internal" href="maplibre.html">16. MapLibre</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">17. Geemap</a></li>
<li class="toctree-l1"><a class="reference internal" href="samgeo.html">18. SAMGeo</a></li>
<li class="toctree-l1"><a class="reference internal" href="hypercoast.html">19. HyperCoast</a></li>
<li class="toctree-l1"><a class="reference internal" href="duckdb.html">20. DuckDB</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Labs</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../labs/instructions.html">Submission Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../labs/lab_01.html">Lab 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../labs/lab_02.html">Lab 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../labs/lab_03.html">Lab 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../labs/lab_04.html">Lab 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../labs/lab_05.html">Lab 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../labs/lab_06.html">Lab 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../labs/lab_07.html">Lab 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../labs/lab_08.html">Lab 8</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/giswqs/geog-312/main?urlpath=tree/book/geospatial/geemap.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/giswqs/geog-312/blob/main/book/geospatial/geemap.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/giswqs/geog-312" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/giswqs/geog-312/edit/main/book/geospatial/geemap.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/giswqs/geog-312/issues/new?title=Issue%20on%20page%20%2Fbook/geospatial/geemap.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/book/geospatial/geemap.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Geemap</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">17.1. Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">17.2. Learning Objectives</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">17.2.1. Prerequisites</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-google-earth-engine">17.3. Introduction to Google Earth Engine</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#google-earth-engine-overview">17.3.1. Google Earth Engine Overview</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-geemap">17.3.2. Installing Geemap</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-libraries">17.3.3. Import Libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#authenticate-and-initialize-earth-engine">17.3.4. Authenticate and Initialize Earth Engine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-interactive-maps">17.3.5. Creating Interactive Maps</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example-maps">17.3.5.1. Example Maps</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-basemaps">17.3.6. Adding Basemaps</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-multiple-basemaps">17.3.6.1. Adding Multiple Basemaps</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#listing-available-basemaps">17.3.6.2. Listing Available Basemaps</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#google-basemaps">17.3.7. Google Basemaps</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-interactive-maps-and-tools">17.4. Introduction to Interactive Maps and Tools</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basemap-selector">17.4.1. Basemap Selector</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#layer-manager">17.4.2. Layer Manager</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inspector-tool">17.4.3. Inspector Tool</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#layer-editor">17.4.4. Layer Editor</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#single-band-image">17.4.4.1. Single-Band image</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-band-image">17.4.4.2. Multi-Band image</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-collection">17.4.4.3. Feature Collection</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-control">17.4.5. Draw Control</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-earth-engine-data-catalog">17.5. The Earth Engine Data Catalog</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#searching-datasets-on-the-earth-engine-website">17.5.1. Searching Datasets on the Earth Engine Website</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#searching-datasets-within-geemap">17.5.2. Searching Datasets Within Geemap</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-datasets-module-in-geemap">17.5.3. Using the Datasets Module in Geemap</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#earth-engine-data-types">17.6. Earth Engine Data Types</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#earth-engine-raster-data">17.7. Earth Engine Raster Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image">17.7.1. Image</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-earth-engine-images">17.7.1.1. Loading Earth Engine Images</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-earth-engine-images">17.7.1.2. Visualizing Earth Engine Images</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imagecollection">17.7.2. ImageCollection</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-image-collections">17.7.2.1. Loading Image Collections</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-image-collections">17.7.2.2. Filtering Image Collections</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-image-collections">17.7.2.3. Visualizing Image Collections</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#earth-engine-vector-data">17.8. Earth Engine Vector Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-feature-collections">17.8.1. Loading Feature Collections</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-feature-collections">17.8.2. Filtering Feature Collections</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-feature-collections">17.8.3. Visualizing Feature Collections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-tools-for-visualizing-earth-engine-data">17.9. More Tools for Visualizing Earth Engine Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-plotting-tool">17.9.1. Using the Plotting Tool</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#legends">17.9.2. Legends</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#built-in-legends">17.9.2.1. Built-in Legends</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-legends">17.9.2.2. Custom Legends</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#color-bars">17.9.3. Color Bars</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#split-panel-maps">17.9.4. Split-panel Maps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#linked-maps">17.9.5. Linked Maps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#timeseries-inspector">17.9.6. Timeseries Inspector</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-slider">17.9.7. Time Slider</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#processing-of-vector-data">17.10. Processing of Vector Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#from-geojson">17.10.1. From GeoJSON</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#from-shapefile">17.10.2. From Shapefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#from-geodataframe">17.10.3. From GeoDataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-geojson">17.10.4. To GeoJSON</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-shapefile">17.10.5. To Shapefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-geodataframe">17.10.6. To GeoDataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-dataframe">17.10.7. To DataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-csv">17.10.8. To CSV</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#processing-of-raster-data">17.11. Processing of Raster Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extract-pixel-values">17.11.1. Extract Pixel Values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-values-to-points">17.11.1.1. Extracting Values to Points</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-pixel-values-along-a-transect">17.11.1.2. Extracting Pixel Values Along a Transect</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#zonal-statistics">17.11.2. Zonal Statistics</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#zonal-statistics-with-an-image-and-a-feature-collection">17.11.2.1. Zonal Statistics with an Image and a Feature Collection</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#zonal-statistics-by-group">17.11.2.2. Zonal Statistics by Group</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#zonal-statistics-with-two-images">17.11.2.3. Zonal Statistics with Two Images</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#map-algebra">17.11.3. Map Algebra</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-local-geospatial-data">17.12. Working with Local Geospatial Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#raster-data">17.12.1. Raster Data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#single-band-raster-data">17.12.1.1. Single-Band Raster Data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-band-raster-data">17.12.1.2. Multi-Band Raster Data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vector-data">17.12.2. Vector Data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#geojson">17.12.2.1. GeoJSON</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#shapefile">17.12.2.2. Shapefile</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#geodataframe">17.12.2.3. GeoDataFrame</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#geopackage">17.12.2.4. GeoPackage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-to-vector">17.12.2.5. CSV to Vector</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-cloud-optimized-geotiffs">17.13. Accessing Cloud Optimized GeoTIFFs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-optimized-geotiffs-cog">17.13.1. Cloud Optimized GeoTIFFs (COG)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spatiotemporal-asset-catalog-stac">17.13.2. SpatioTemporal Asset Catalog (STAC)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-earth-engine-data">17.14. Exporting Earth Engine Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-images">17.14.1. Exporting Images</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-image-collections">17.14.2. Exporting Image Collections</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-feature-collections">17.14.3. Exporting Feature Collections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-timelapse-animations">17.15. Creating Timelapse Animations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#landsat-timelapse">17.15.1. Landsat Timelapse</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sentinel-2-timelapse">17.15.2. Sentinel-2 Timelapse</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modis-timelapse">17.15.3. MODIS Timelapse</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#goes-timelapse">17.15.4. GOES Timelapse</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#charting">17.16. Charting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-features">17.16.1. Charting Features</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">17.16.1.1. Import libraries</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-by-feature">17.16.1.2. feature_by_feature</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-by-property">17.16.1.3. feature.by_property</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-groups">17.16.1.4. feature_groups</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-histogram">17.16.1.5. feature_histogram</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-images">17.16.2. Charting Images</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-by-region">17.16.2.1. image_by_region</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-regions">17.16.2.2. image_regions</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-by-class">17.16.2.3. image_by_class</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-histogram">17.16.2.4. image_histogram</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-image-collections">17.16.3. Charting Image Collections</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-series">17.16.3.1. image_series</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-series-by-region">17.16.3.2. image_series_by_region</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-doy-series">17.16.3.3. image_doy_series</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-doy-series-by-year">17.16.3.4. image_doy_series_by_year</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-doy-series-by-region">17.16.3.5. image_doy_series_by_region</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-array-and-list">17.16.4. Charting Array and List</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#scatter-plot">17.16.4.1. Scatter Plot</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#transect-line-plot">17.16.4.2. Transect Line Plot</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metadata-scatter-plot">17.16.4.3. Metadata Scatter Plot</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mapped-function-scatter-line-plot">17.16.4.4. Mapped Function Scatter &amp; Line Plot</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-data-table">17.16.5. Charting Data Table</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#manual-datatable-chart">17.16.5.1. Manual DataTable chart</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#computed-datatable-chart">17.16.5.2. Computed DataTable chart</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#interval-chart">17.16.5.3. Interval chart</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">17.17. Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-visualizing-dem-data">17.17.1. Exercise 1: Visualizing DEM Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-cloud-free-composite-with-sentinel-2-or-landsat">17.17.2. Exercise 2: Cloud-Free Composite with Sentinel-2 or Landsat</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3-visualizing-naip-imagery">17.17.3. Exercise 3: Visualizing NAIP Imagery</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-4-visualizing-watershed-boundaries">17.17.4. Exercise 4: Visualizing Watershed Boundaries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-5-visualizing-land-cover-change">17.17.5. Exercise 5: Visualizing Land Cover Change</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-6-creating-a-landsat-timelapse-animation">17.17.6. Exercise 6: Creating a Landsat Timelapse Animation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">17.18. Summary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="geemap">
<h1><span class="section-number">17. </span>Geemap<a class="headerlink" href="#geemap" title="Link to this heading">#</a></h1>
<p><a class="reference external" href="https://colab.research.google.com/github/giswqs/geog-312/blob/main/book/geospatial/geemap.ipynb"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
<section id="overview">
<h2><span class="section-number">17.1. </span>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>This lecture introduces cloud-based geospatial analysis using the <a class="reference external" href="https://earthengine.google.com">Google Earth Engine</a> (GEE) API in combination with the <a class="reference external" href="https://geemap.org">geemap</a> Python package. We will cover core concepts of Earth Engine, visualization techniques, and practical workflows to perform analyses within a Jupyter environment.</p>
</section>
<section id="learning-objectives">
<h2><span class="section-number">17.2. </span>Learning Objectives<a class="headerlink" href="#learning-objectives" title="Link to this heading">#</a></h2>
<p>By the end of this lecture, you will be able to:</p>
<ul class="simple">
<li><p>Explain the fundamentals of the Google Earth Engine platform, including its data types and cloud-based capabilities</p></li>
<li><p>Set up and configure the geemap library for conducting geospatial analyses in the cloud</p></li>
<li><p>Perform essential geospatial operations, including filtering, visualizing, and exporting data from Earth Engine</p></li>
<li><p>Access and manipulate both raster and vector data using Earth Engine</p></li>
<li><p>Create timelapse animations from satellite imagery</p></li>
<li><p>Create interactive charts from Earth Engine data</p></li>
</ul>
<section id="prerequisites">
<h3><span class="section-number">17.2.1. </span>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">#</a></h3>
<p>Before beginning with geemap and Google Earth Engine, ensure the following steps are completed:</p>
<ul class="simple">
<li><p><strong>Register for a Google Earth Engine account</strong>: Go to <a class="reference external" href="https://code.earthengine.google.com/register">https://code.earthengine.google.com/register</a> to sign up for a GEE account. After registering, you will need to set up a Google Cloud Project and enable the Earth Engine API by following the instructions <a class="reference external" href="https://docs.google.com/document/d/1ZGSmrNm6_baqd8CHt33kIBWOlvkh-HLr46bODgJN1h0/edit?usp=sharing">here</a>. GEE is free for <a class="reference external" href="https://earthengine.google.com/noncommercial">noncommercial and research use</a>.</p></li>
<li><p><strong>Verify API Authentication</strong>: To confirm that your Earth Engine account is set up correctly, try running <a class="reference external" href="https://colab.research.google.com/github/gee-community/geemap/blob/master/docs/notebooks/geemap_colab.ipynb">this test notebook</a> in Google Colab.</p></li>
</ul>
</section>
</section>
<section id="introduction-to-google-earth-engine">
<h2><span class="section-number">17.3. </span>Introduction to Google Earth Engine<a class="headerlink" href="#introduction-to-google-earth-engine" title="Link to this heading">#</a></h2>
<section id="google-earth-engine-overview">
<h3><span class="section-number">17.3.1. </span>Google Earth Engine Overview<a class="headerlink" href="#google-earth-engine-overview" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://earthengine.google.com">Google Earth Engine</a> is a cloud-computing platform that enables scientific analysis and visualization of large-scale geospatial datasets. It provides a rich data catalog and processing capabilities, allowing users to analyze satellite imagery and geospatial data at planetary scale.</p>
<p>Earth Engine is free for <a class="reference external" href="https://earthengine.google.com/noncommercial">noncommercial and research use</a>. Nonprofit organizations, research institutions, educators, Indigenous governments, and government researchers can continue using Earth Engine for free, as they have for more than a decade. However, <a class="reference external" href="https://earthengine.google.com/commercial">commercial users</a> may require a paid license.</p>
</section>
<section id="installing-geemap">
<h3><span class="section-number">17.3.2. </span>Installing Geemap<a class="headerlink" href="#installing-geemap" title="Link to this heading">#</a></h3>
<p>The geemap package simplifies the use of Google Earth Engine in Python, offering an intuitive API for visualization and analysis in Jupyter notebooks. In Google Colab, geemap is pre-installed, but you may need to install additional dependencies for certain features. To install the latest version with optional dependencies, use the following command:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %pip install -U &quot;geemap[workshop]&quot;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="import-libraries">
<h3><span class="section-number">17.3.3. </span>Import Libraries<a class="headerlink" href="#import-libraries" title="Link to this heading">#</a></h3>
<p>To start, import the necessary libraries for working with Google Earth Engine (GEE) and geemap.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ee</span>
<span class="kn">import</span> <span class="nn">geemap</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="authenticate-and-initialize-earth-engine">
<h3><span class="section-number">17.3.4. </span>Authenticate and Initialize Earth Engine<a class="headerlink" href="#authenticate-and-initialize-earth-engine" title="Link to this heading">#</a></h3>
<p>To authenticate and initialize your Earth Engine environment, you’ll need to create a Google Cloud Project and enable the <a class="reference external" href="https://console.cloud.google.com/apis/api/earthengine.googleapis.com">Earth Engine API</a> for the project if you have not done so already. You can find detailed setup instructions <a class="reference external" href="https://developers.google.com/earth-engine/guides/access#a-role-in-a-cloud-project">here</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_initialize</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Running the code above will prompt you to authenticate your Earth Engine account. Follow the instructions to complete the authentication process on Colab. To avoid this step in the future, you can set up a Colab secret with the name <code class="docutils literal notranslate"><span class="pre">EARTHENGINE_TOKEN</span></code> and your Earth Engine token as the value, which can be obtained by running <code class="docutils literal notranslate"><span class="pre">geemap.get_ee_token()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># geemap.get_ee_token()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="creating-interactive-maps">
<h3><span class="section-number">17.3.5. </span>Creating Interactive Maps<a class="headerlink" href="#creating-interactive-maps" title="Link to this heading">#</a></h3>
<p>Let’s create an interactive map using the <code class="docutils literal notranslate"><span class="pre">ipyleaflet</span></code> plotting backend. The <code class="docutils literal notranslate"><span class="pre">geemap.Map</span></code> class inherits from the <code class="docutils literal notranslate"><span class="pre">ipyleaflet.Map</span></code> class, so the syntax is similar to creating an interactive map with <code class="docutils literal notranslate"><span class="pre">ipyleaflet.Map</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>To display the map in a Jupyter notebook, simply enter the map object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>To customize the map’s display, you can set various keyword arguments, such as <code class="docutils literal notranslate"><span class="pre">center</span></code> (latitude and longitude), <code class="docutils literal notranslate"><span class="pre">zoom</span></code>, <code class="docutils literal notranslate"><span class="pre">width</span></code>, and <code class="docutils literal notranslate"><span class="pre">height</span></code>. By default, the <code class="docutils literal notranslate"><span class="pre">width</span></code> is <code class="docutils literal notranslate"><span class="pre">100%</span></code>, filling the entire width of the Jupyter notebook cell. The <code class="docutils literal notranslate"><span class="pre">height</span></code> parameter can be a number (in pixels) or a string with a pixel format, e.g., <code class="docutils literal notranslate"><span class="pre">600px</span></code>.</p>
<section id="example-maps">
<h4><span class="section-number">17.3.5.1. </span>Example Maps<a class="headerlink" href="#example-maps" title="Link to this heading">#</a></h4>
<p><strong>Map of the Contiguous United States</strong></p>
<p>To center the map on the contiguous United States, use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;600px&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Map of the state of Tennessee</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">35.746512</span><span class="p">,</span> <span class="o">-</span><span class="mf">86.209818</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Map of the city of Knoxville, TN</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">35.959111</span><span class="p">,</span> <span class="o">-</span><span class="mf">83.909463</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>To hide specific map controls, set the corresponding control argument to <code class="docutils literal notranslate"><span class="pre">False</span></code>, such as <code class="docutils literal notranslate"><span class="pre">draw_ctrl=False</span></code> to hide the drawing control.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">data_ctrl</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toolbar_ctrl</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">draw_ctrl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="adding-basemaps">
<h3><span class="section-number">17.3.6. </span>Adding Basemaps<a class="headerlink" href="#adding-basemaps" title="Link to this heading">#</a></h3>
<p>There are several ways to add basemaps to a map in geemap. You can specify a basemap in the <code class="docutils literal notranslate"><span class="pre">basemap</span></code> keyword argument when creating the map, or you can add additional basemap layers using the <code class="docutils literal notranslate"><span class="pre">add_basemap</span></code> method. <code class="docutils literal notranslate"><span class="pre">Geemap</span></code> provides access to hundreds of built-in basemaps, making it easy to add layers to a map with a single line of code.</p>
<p>To create a map with a specific basemap, use the <code class="docutils literal notranslate"><span class="pre">basemap</span></code> argument as shown below. For example, <code class="docutils literal notranslate"><span class="pre">Esri.WorldImagery</span></code> provides an Esri world imagery basemap.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">basemap</span><span class="o">=</span><span class="s2">&quot;Esri.WorldImagery&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<section id="adding-multiple-basemaps">
<h4><span class="section-number">17.3.6.1. </span>Adding Multiple Basemaps<a class="headerlink" href="#adding-multiple-basemaps" title="Link to this heading">#</a></h4>
<p>You can add multiple basemaps to a map by calling <code class="docutils literal notranslate"><span class="pre">add_basemap</span></code> multiple times. For example, the following code adds the <code class="docutils literal notranslate"><span class="pre">Esri.WorldTopoMap</span></code> and <code class="docutils literal notranslate"><span class="pre">OpenTopoMap</span></code> basemaps to the existing map:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;Esri.WorldTopoMap&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;OpenTopoMap&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="listing-available-basemaps">
<h4><span class="section-number">17.3.6.2. </span>Listing Available Basemaps<a class="headerlink" href="#listing-available-basemaps" title="Link to this heading">#</a></h4>
<p>To view the first 10 available basemaps, use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">basemaps</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">geemap</span><span class="o">.</span><span class="n">basemaps</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="nb">len</span><span class="p">(</span><span class="n">geemap</span><span class="o">.</span><span class="n">basemaps</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">basemaps</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="google-basemaps">
<h3><span class="section-number">17.3.7. </span>Google Basemaps<a class="headerlink" href="#google-basemaps" title="Link to this heading">#</a></h3>
<p>Due to licensing restrictions, Google basemaps are not included in geemap by default. However, users can add Google basemaps manually at their own discretion using the following URLs:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    ROADMAP:  https://mt1.google.com/vt/lyrs=m&amp;x={x}&amp;y={y}&amp;z={z}
    SATELLITE: https://mt1.google.com/vt/lyrs=s&amp;x={x}&amp;y={y}&amp;z={z}
    TERRAIN: https://mt1.google.com/vt/lyrs=p&amp;x={x}&amp;y={y}&amp;z={z}
    HYBRID: https://mt1.google.com/vt/lyrs=y&amp;x={x}&amp;y={y}&amp;z={z}
</pre></div>
</div>
<p>For example, to add Google Satellite as a tile layer:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://mt1.google.com/vt/lyrs=y&amp;x=</span><span class="si">{x}</span><span class="s2">&amp;y=</span><span class="si">{y}</span><span class="s2">&amp;z=</span><span class="si">{z}</span><span class="s2">&quot;</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_tile_layer</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Google Satellite&quot;</span><span class="p">,</span> <span class="n">attribution</span><span class="o">=</span><span class="s2">&quot;Google&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>You can also add text to the map using the <code class="docutils literal notranslate"><span class="pre">add_text</span></code> method. The text will be displayed at the specified location on the map.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hello from Earth Engine&quot;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;bottomright&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="introduction-to-interactive-maps-and-tools">
<h2><span class="section-number">17.4. </span>Introduction to Interactive Maps and Tools<a class="headerlink" href="#introduction-to-interactive-maps-and-tools" title="Link to this heading">#</a></h2>
<section id="basemap-selector">
<h3><span class="section-number">17.4.1. </span>Basemap Selector<a class="headerlink" href="#basemap-selector" title="Link to this heading">#</a></h3>
<p>The basemap selector allows you to choose from various basemaps via a dropdown menu. Adding it to your map provides easy access to different map backgrounds.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;basemap_selector&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="layer-manager">
<h3><span class="section-number">17.4.2. </span>Layer Manager<a class="headerlink" href="#layer-manager" title="Link to this heading">#</a></h3>
<p>The layer manager provides control over layer visibility and transparency. It enables toggling layers on and off and adjusting transparency with a slider, making it easy to customize map visuals.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">dem</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;006633&quot;</span><span class="p">,</span> <span class="s2">&quot;E5FFCC&quot;</span><span class="p">,</span> <span class="s2">&quot;662A00&quot;</span><span class="p">,</span> <span class="s2">&quot;D8D8D8&quot;</span><span class="p">,</span> <span class="s2">&quot;F5F5F5&quot;</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;SRTM DEM&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">states</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;US States&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;layer_manager&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="inspector-tool">
<h3><span class="section-number">17.4.3. </span>Inspector Tool<a class="headerlink" href="#inspector-tool" title="Link to this heading">#</a></h3>
<p>The inspector tool allows you to click on the map to query Earth Engine data at specific locations. This is helpful for examining the properties of datasets directly on the map.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">dem</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">landsat7</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LE7_TOA_5YEAR/1999_2003&quot;</span><span class="p">)</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;006633&quot;</span><span class="p">,</span> <span class="s2">&quot;E5FFCC&quot;</span><span class="p">,</span> <span class="s2">&quot;662A00&quot;</span><span class="p">,</span> <span class="s2">&quot;D8D8D8&quot;</span><span class="p">,</span> <span class="s2">&quot;F5F5F5&quot;</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;SRTM DEM&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span>
    <span class="n">landsat7</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">],</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">},</span>
    <span class="s2">&quot;Landsat 7&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">states</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;US States&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;inspector&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="layer-editor">
<h3><span class="section-number">17.4.4. </span>Layer Editor<a class="headerlink" href="#layer-editor" title="Link to this heading">#</a></h3>
<p>With the layer editor, you can adjust visualization parameters of Earth Engine data for better clarity and focus. It supports single-band images, multi-band images, and feature collections.</p>
<section id="single-band-image">
<h4><span class="section-number">17.4.4.1. </span>Single-Band image<a class="headerlink" href="#single-band-image" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">dem</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;006633&quot;</span><span class="p">,</span> <span class="s2">&quot;E5FFCC&quot;</span><span class="p">,</span> <span class="s2">&quot;662A00&quot;</span><span class="p">,</span> <span class="s2">&quot;D8D8D8&quot;</span><span class="p">,</span> <span class="s2">&quot;F5F5F5&quot;</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;SRTM DEM&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;layer_editor&quot;</span><span class="p">,</span> <span class="n">layer_dict</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">ee_layers</span><span class="p">[</span><span class="s2">&quot;SRTM DEM&quot;</span><span class="p">])</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="multi-band-image">
<h4><span class="section-number">17.4.4.2. </span>Multi-Band image<a class="headerlink" href="#multi-band-image" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">landsat7</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LE7_TOA_5YEAR/1999_2003&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span>
    <span class="n">landsat7</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">],</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">},</span>
    <span class="s2">&quot;Landsat 7&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;layer_editor&quot;</span><span class="p">,</span> <span class="n">layer_dict</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">ee_layers</span><span class="p">[</span><span class="s2">&quot;Landsat 7&quot;</span><span class="p">])</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="feature-collection">
<h4><span class="section-number">17.4.4.3. </span>Feature Collection<a class="headerlink" href="#feature-collection" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">states</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;US States&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;layer_editor&quot;</span><span class="p">,</span> <span class="n">layer_dict</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">ee_layers</span><span class="p">[</span><span class="s2">&quot;US States&quot;</span><span class="p">])</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="draw-control">
<h3><span class="section-number">17.4.5. </span>Draw Control<a class="headerlink" href="#draw-control" title="Link to this heading">#</a></h3>
<p>The draw control feature allows you to draw shapes directly on the map, converting them automatically into Earth Engine objects. Access the drawn features as follows:</p>
<ul class="simple">
<li><p>To return the last drawn feature as an <code class="docutils literal notranslate"><span class="pre">ee.Geometry()</span></code>, use <code class="docutils literal notranslate"><span class="pre">m.user_roi</span></code></p></li>
<li><p>To return all drawn features as an <code class="docutils literal notranslate"><span class="pre">ee.FeatureCollection()</span></code>, use <code class="docutils literal notranslate"><span class="pre">m.user_rois</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">dem</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="s2">&quot;terrain&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;SRTM DEM&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;layer_manager&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">user_roi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">dem</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">user_roi</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;Clipped DEM&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="the-earth-engine-data-catalog">
<h2><span class="section-number">17.5. </span>The Earth Engine Data Catalog<a class="headerlink" href="#the-earth-engine-data-catalog" title="Link to this heading">#</a></h2>
<p>The <a class="reference external" href="https://developers.google.com/earth-engine/datasets">Earth Engine Data Catalog</a> hosts an extensive collection of geospatial datasets. Currently, he catalog includes over <a class="reference external" href="https://github.com/opengeos/Earth-Engine-Catalog/blob/master/gee_catalog.tsv">1,000 datasets</a> with a combined size exceeding 100 petabytes. Notable datasets include Landsat, Sentinel, MODIS, and NAIP. For a comprehensive list of datasets in CSV or JSON format, refer to the <a class="reference external" href="https://github.com/giswqs/Earth-Engine-Catalog/blob/master/gee_catalog.tsv">Earth Engine Datasets List</a>.</p>
<section id="searching-datasets-on-the-earth-engine-website">
<h3><span class="section-number">17.5.1. </span>Searching Datasets on the Earth Engine Website<a class="headerlink" href="#searching-datasets-on-the-earth-engine-website" title="Link to this heading">#</a></h3>
<p>To browse datasets directly on the Earth Engine website:</p>
<ul class="simple">
<li><p>View the full catalog: <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog">https://developers.google.com/earth-engine/datasets/catalog</a></p></li>
<li><p>Search by tags: <a class="reference external" href="https://developers.google.com/earth-engine/datasets/tags">https://developers.google.com/earth-engine/datasets/tags</a></p></li>
</ul>
</section>
<section id="searching-datasets-within-geemap">
<h3><span class="section-number">17.5.2. </span>Searching Datasets Within Geemap<a class="headerlink" href="#searching-datasets-within-geemap" title="Link to this heading">#</a></h3>
<p>The <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog">Earth Engine Data Catalog</a> can also be searched directly from <code class="docutils literal notranslate"><span class="pre">geemap</span></code>. Use keywords to filter datasets by name, tag, or description. For instance, searching for “elevation” will display only datasets containing “elevation” in their metadata, returning 52 datasets. You can scroll through the results to locate the <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog/USGS_SRTMGL1_003#description">NASA SRTM Digital Elevation 30m</a> dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/B3rf4QN.jpg" /></p>
<p>Each dataset page contains detailed information such as availability, provider, Earth Engine snippet, tags, description, and example code. The Image, ImageCollection, or FeatureCollection ID is essential for accessing the dataset in Earth Engine’s JavaScript or Python APIs.</p>
</section>
<section id="using-the-datasets-module-in-geemap">
<h3><span class="section-number">17.5.3. </span>Using the Datasets Module in Geemap<a class="headerlink" href="#using-the-datasets-module-in-geemap" title="Link to this heading">#</a></h3>
<p>Geemap offers a built-in <code class="docutils literal notranslate"><span class="pre">datasets</span></code> module to access specific datasets programmatically. For example, to access the USGS GAP Alaska dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geemap.datasets</span> <span class="kn">import</span> <span class="n">DATA</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">DATA</span><span class="o">.</span><span class="n">USGS_GAP_AK_2001</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;GAP Alaska&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">centerObject</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>To retrieve metadata for a specific dataset, use the <code class="docutils literal notranslate"><span class="pre">get_metadata</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geemap.datasets</span> <span class="kn">import</span> <span class="n">get_metadata</span>

<span class="n">get_metadata</span><span class="p">(</span><span class="n">DATA</span><span class="o">.</span><span class="n">USGS_GAP_AK_2001</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="earth-engine-data-types">
<h2><span class="section-number">17.6. </span>Earth Engine Data Types<a class="headerlink" href="#earth-engine-data-types" title="Link to this heading">#</a></h2>
<p>Earth Engine objects are server-side entities, meaning they are stored and processed on Earth Engine’s servers rather than locally. This setup is comparable to streaming services (e.g., YouTube or Netflix) where the data remains on the provider’s servers, allowing us to access and process geospatial data in real time without downloading it to our local devices.</p>
<ul class="simple">
<li><p><strong>Image</strong>: The core raster data type in Earth Engine, representing single images or scenes.</p></li>
<li><p><strong>ImageCollection</strong>: A collection or sequence of images, often used for time series analysis.</p></li>
<li><p><strong>Geometry</strong>: The fundamental vector data type, including shapes like points, lines, and polygons.</p></li>
<li><p><strong>Feature</strong>: A Geometry with associated attributes, used to add descriptive data to vector shapes.</p></li>
<li><p><strong>FeatureCollection</strong>: A collection of Features, similar to a shapefile with attribute data.</p></li>
</ul>
</section>
<section id="earth-engine-raster-data">
<h2><span class="section-number">17.7. </span>Earth Engine Raster Data<a class="headerlink" href="#earth-engine-raster-data" title="Link to this heading">#</a></h2>
<section id="image">
<h3><span class="section-number">17.7.1. </span>Image<a class="headerlink" href="#image" title="Link to this heading">#</a></h3>
<p>In Earth Engine, raster data is represented as <strong>Image</strong> objects. Each Image is composed of bands, with each band having its own name, data type, scale, mask, and projection. Metadata for each image is stored as a set of properties.</p>
<section id="loading-earth-engine-images">
<h4><span class="section-number">17.7.1.1. </span>Loading Earth Engine Images<a class="headerlink" href="#loading-earth-engine-images" title="Link to this heading">#</a></h4>
<p>To load images, use the Earth Engine asset ID within the <code class="docutils literal notranslate"><span class="pre">ee.Image</span></code> constructor. Asset IDs can be found in the Earth Engine Data Catalog. For example, to load the NASA SRTM Digital Elevation dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">image</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizing-earth-engine-images">
<h4><span class="section-number">17.7.1.2. </span>Visualizing Earth Engine Images<a class="headerlink" href="#visualizing-earth-engine-images" title="Link to this heading">#</a></h4>
<p>To visualize an image, you can specify visualization parameters such as minimum and maximum values and color palettes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">21.79</span><span class="p">,</span> <span class="mf">70.87</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">6000</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;006633&quot;</span><span class="p">,</span> <span class="s2">&quot;E5FFCC&quot;</span><span class="p">,</span> <span class="s2">&quot;662A00&quot;</span><span class="p">,</span> <span class="s2">&quot;D8D8D8&quot;</span><span class="p">,</span> <span class="s2">&quot;F5F5F5&quot;</span><span class="p">],</span>  <span class="c1"># &#39;terrain&#39;</span>
<span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;SRTM&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="imagecollection">
<h3><span class="section-number">17.7.2. </span>ImageCollection<a class="headerlink" href="#imagecollection" title="Link to this heading">#</a></h3>
<p>An <strong>ImageCollection</strong> represents a sequence of images, often used for temporal data like satellite image time series. ImageCollections are created by passing an Earth Engine asset ID into the <code class="docutils literal notranslate"><span class="pre">ImageCollection</span></code> constructor. Asset IDs are available in the <a class="reference external" href="https://developers.google.com/earth-engine/datasets">Earth Engine Data Catalog</a>.</p>
<section id="loading-image-collections">
<h4><span class="section-number">17.7.2.1. </span>Loading Image Collections<a class="headerlink" href="#loading-image-collections" title="Link to this heading">#</a></h4>
<p>To load an ImageCollection, such as the Sentinel-2 surface reflectance collection:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">collection</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;COPERNICUS/S2_SR_HARMONIZED&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="filtering-image-collections">
<h4><span class="section-number">17.7.2.2. </span>Filtering Image Collections<a class="headerlink" href="#filtering-image-collections" title="Link to this heading">#</a></h4>
<p>You can filter ImageCollections by location and time. For example, to filter images covering a specific location with low cloud cover:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geometry</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="o">-</span><span class="mf">83.909463</span><span class="p">,</span> <span class="mf">35.959111</span><span class="p">])</span>
<span class="n">images</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">filterBounds</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span>
<span class="n">images</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">images</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">images</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">collection</span><span class="o">.</span><span class="n">filterBounds</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filterDate</span><span class="p">(</span><span class="s2">&quot;2024-07-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2024-10-01&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="s2">&quot;CLOUDY_PIXEL_PERCENTAGE&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="p">)</span>
<span class="n">images</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>To view the filtered collection on a map:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">images</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

<span class="n">vis</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
    <span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">vis</span><span class="p">,</span> <span class="s2">&quot;Sentinel-2&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">centerObject</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizing-image-collections">
<h4><span class="section-number">17.7.2.3. </span>Visualizing Image Collections<a class="headerlink" href="#visualizing-image-collections" title="Link to this heading">#</a></h4>
<p>To visualize an <strong>ImageCollection</strong> as a single composite image, you need to aggregate the collection. For example, using the <code class="docutils literal notranslate"><span class="pre">collection.median()</span></code> method creates an image representing the median value across the collection.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">images</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>

<span class="n">vis</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
    <span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B8&quot;</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">vis</span><span class="p">,</span> <span class="s2">&quot;Sentinel-2&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">centerObject</span><span class="p">(</span><span class="n">geometry</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="earth-engine-vector-data">
<h2><span class="section-number">17.8. </span>Earth Engine Vector Data<a class="headerlink" href="#earth-engine-vector-data" title="Link to this heading">#</a></h2>
<p>A <strong>FeatureCollection</strong> is a collection of Features. It functions similarly to a GeoJSON FeatureCollection, where features include associated properties or attributes. For example, a shapefile’s data can be represented as a FeatureCollection.</p>
<section id="loading-feature-collections">
<h3><span class="section-number">17.8.1. </span>Loading Feature Collections<a class="headerlink" href="#loading-feature-collections" title="Link to this heading">#</a></h3>
<p>The <a class="reference external" href="https://developers.google.com/earth-engine/datasets">Earth Engine Data Catalog</a> includes various vector datasets, such as U.S. Census data and country boundaries, as feature collections. Feature Collection IDs are accessible by searching the data catalog. For example, to load the <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog/TIGER_2016_Roads">TIGER roads data</a> by the U.S. Census Bureau:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2016/Roads&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">set_center</span><span class="p">(</span><span class="o">-</span><span class="mf">83.909463</span><span class="p">,</span> <span class="mf">35.959111</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;Census roads&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="filtering-feature-collections">
<h3><span class="section-number">17.8.2. </span>Filtering Feature Collections<a class="headerlink" href="#filtering-feature-collections" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">filter</span></code> method allows you to filter a FeatureCollection based on certain attribute values. For instance, we can filter for specific states using the <code class="docutils literal notranslate"><span class="pre">eq</span></code> filter to select “Tennessee”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">states</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">&quot;NAME&quot;</span><span class="p">,</span> <span class="s2">&quot;Tennessee&quot;</span><span class="p">))</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;Tennessee&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>To retrieve properties of the first feature in the collection, use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">feat</span> <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="n">feat</span><span class="o">.</span><span class="n">toDictionary</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>You can also convert a FeatureCollection to a Pandas DataFrame for easier analysis with:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_df</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">states</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">inList</span><span class="p">(</span><span class="s2">&quot;NAME&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;California&quot;</span><span class="p">,</span> <span class="s2">&quot;Oregon&quot;</span><span class="p">,</span> <span class="s2">&quot;Washington&quot;</span><span class="p">]))</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;West Coast&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">region</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">user_roi</span>
<span class="k">if</span> <span class="n">region</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">region</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="o">-</span><span class="mf">88.40</span><span class="p">,</span> <span class="mf">29.88</span><span class="p">,</span> <span class="o">-</span><span class="mf">77.90</span><span class="p">,</span> <span class="mf">35.39</span><span class="p">)</span>

<span class="n">fc</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filterBounds</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;Southeastern U.S.&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>A FeatureCollection can be used to clip an image. The <code class="docutils literal notranslate"><span class="pre">clipToCollection</span></code> method clips an image to the geometry of a feature collection. For example, to clip a Landsat image to the boundary of France:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">landsat7</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LE7_TOA_5YEAR/1999_2003&quot;</span><span class="p">)</span>
<span class="n">countries</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;FAO/GAUL_SIMPLIFIED_500m/2015/level0&quot;</span><span class="p">)</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">countries</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">&quot;ADM0_NAME&quot;</span><span class="p">,</span> <span class="s2">&quot;Germany&quot;</span><span class="p">))</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">landsat7</span><span class="o">.</span><span class="n">clipToCollection</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span>
    <span class="n">image</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">],</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">},</span>
    <span class="s2">&quot;Landsat 7&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizing-feature-collections">
<h3><span class="section-number">17.8.3. </span>Visualizing Feature Collections<a class="headerlink" href="#visualizing-feature-collections" title="Link to this heading">#</a></h3>
<p>Once loaded, feature collections can be visualized on an interactive map. For example, visualizing U.S. state boundaries from the census data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">states</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;US States&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Feature collections can also be styled with additional parameters. To apply a custom style, specify options like color and line width:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;0000ffff&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;lineType&quot;</span><span class="p">:</span> <span class="s2">&quot;solid&quot;</span><span class="p">,</span> <span class="s2">&quot;fillColor&quot;</span><span class="p">:</span> <span class="s2">&quot;FF000080&quot;</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">style</span><span class="p">(</span><span class="o">**</span><span class="n">style</span><span class="p">),</span> <span class="p">{},</span> <span class="s2">&quot;US States&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">add_styled_vector</span></code>, you can apply a color palette to style different features by attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;000000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;colorOpacity&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;pointSize&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;pointShape&quot;</span><span class="p">:</span> <span class="s2">&quot;circle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;lineType&quot;</span><span class="p">:</span> <span class="s2">&quot;solid&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fillColorOpacity&quot;</span><span class="p">:</span> <span class="mf">0.66</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">palette</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;006633&quot;</span><span class="p">,</span> <span class="s2">&quot;E5FFCC&quot;</span><span class="p">,</span> <span class="s2">&quot;662A00&quot;</span><span class="p">,</span> <span class="s2">&quot;D8D8D8&quot;</span><span class="p">,</span> <span class="s2">&quot;F5F5F5&quot;</span><span class="p">]</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_styled_vector</span><span class="p">(</span>
    <span class="n">states</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="s2">&quot;NAME&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">palette</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;Styled vector&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">vis_params</span>
<span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="more-tools-for-visualizing-earth-engine-data">
<h2><span class="section-number">17.9. </span>More Tools for Visualizing Earth Engine Data<a class="headerlink" href="#more-tools-for-visualizing-earth-engine-data" title="Link to this heading">#</a></h2>
<section id="using-the-plotting-tool">
<h3><span class="section-number">17.9.1. </span>Using the Plotting Tool<a class="headerlink" href="#using-the-plotting-tool" title="Link to this heading">#</a></h3>
<p>The plotting tool in geemap enables visualization of Earth Engine data layers. In this example, Landsat 7 and Hyperion data are added with specific visualization parameters, allowing for comparison of these datasets. The plot GUI is then added to facilitate detailed exploration of the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="n">landsat7</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LE7_TOA_5YEAR/1999_2003&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B5&quot;</span><span class="p">,</span> <span class="s2">&quot;B7&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">landsat_vis</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">],</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">1.4</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">landsat7</span><span class="p">,</span> <span class="n">landsat_vis</span><span class="p">,</span> <span class="s2">&quot;Landsat&quot;</span><span class="p">)</span>

<span class="n">hyperion</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;EO1/HYPERION&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2017-03-01&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">hyperion_vis</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">14000.0</span><span class="p">,</span>
    <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">hyperion</span><span class="p">,</span> <span class="n">hyperion_vis</span><span class="p">,</span> <span class="s2">&quot;Hyperion&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_plot_gui</span><span class="p">()</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Set the plotting options for Landsat to add marker clusters and overlays, enhancing the interactivity of plotted data on the map.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">add_marker_cluster</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">overlay</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Adjust the plotting options for Hyperion data by setting a bar plot type with marker clusters, suitable for visualizing Hyperion’s data values in bar format.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">add_marker_cluster</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="legends">
<h3><span class="section-number">17.9.2. </span>Legends<a class="headerlink" href="#legends" title="Link to this heading">#</a></h3>
<section id="built-in-legends">
<h4><span class="section-number">17.9.2.1. </span>Built-in Legends<a class="headerlink" href="#built-in-legends" title="Link to this heading">#</a></h4>
<p>Geemap provides built-in legends that can be easily added to maps for better interpretability of data classes. Here, an NLCD legend is added to both a WMS layer and an Earth Engine land cover layer, giving quick visual reference to the data’s classification scheme.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">geemap.legends</span> <span class="kn">import</span> <span class="n">builtin_legends</span>
</pre></div>
</div>
</div>
</div>
<p>Print out all available built-in legends, which can be used with various data layers to enhance map readability.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">legend</span> <span class="ow">in</span> <span class="n">builtin_legends</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">legend</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Add an NLCD WMS layer along with its corresponding legend, which appears as an overlay, providing users with an informative legend display.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;Esri.WorldImagery&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;NLCD 2021 CONUS Land Cover&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_legend</span><span class="p">(</span><span class="n">builtin_legend</span><span class="o">=</span><span class="s2">&quot;NLCD&quot;</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="s2">&quot;100px&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;455px&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Add an Earth Engine layer for NLCD land cover and display its legend, specifying title, legend type, and dimensions for user convenience.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;Esri.WorldImagery&quot;</span><span class="p">)</span>

<span class="n">nlcd</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/NLCD_RELEASES/2021_REL/NLCD/2021&quot;</span><span class="p">)</span>
<span class="n">landcover</span> <span class="o">=</span> <span class="n">nlcd</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;landcover&quot;</span><span class="p">)</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">landcover</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;NLCD Land Cover 2021&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_legend</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;NLCD Land Cover Classification&quot;</span><span class="p">,</span> <span class="n">builtin_legend</span><span class="o">=</span><span class="s2">&quot;NLCD&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;455px&quot;</span>
<span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="custom-legends">
<h4><span class="section-number">17.9.2.2. </span>Custom Legends<a class="headerlink" href="#custom-legends" title="Link to this heading">#</a></h4>
<p>Create a custom legend by defining unique labels and colors for each class, allowing for flexible map customization. This example uses a color palette for labeling several map categories.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">add_google_map</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;One&quot;</span><span class="p">,</span> <span class="s2">&quot;Two&quot;</span><span class="p">,</span> <span class="s2">&quot;Three&quot;</span><span class="p">,</span> <span class="s2">&quot;Four&quot;</span><span class="p">,</span> <span class="s2">&quot;etc&quot;</span><span class="p">]</span>

<span class="c1"># colors can be defined using either hex code or RGB (0-255, 0-255, 0-255)</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#8DD3C7&quot;</span><span class="p">,</span> <span class="s2">&quot;#FFFFB3&quot;</span><span class="p">,</span> <span class="s2">&quot;#BEBADA&quot;</span><span class="p">,</span> <span class="s2">&quot;#FB8072&quot;</span><span class="p">,</span> <span class="s2">&quot;#80B1D3&quot;</span><span class="p">]</span>
<span class="c1"># legend_colors = [(255, 0, 0), (127, 255, 0), (127, 18, 25), (36, 70, 180), (96, 68 123)]</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_legend</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="n">keys</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s2">&quot;bottomright&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Define a custom legend using a dictionary that links specific colors to labels. This approach provides flexibility to represent specific categories in the data, such as various land cover types.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;Esri.WorldImagery&quot;</span><span class="p">)</span>

<span class="n">legend_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;11 Open Water&quot;</span><span class="p">:</span> <span class="s2">&quot;466b9f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;12 Perennial Ice/Snow&quot;</span><span class="p">:</span> <span class="s2">&quot;d1def8&quot;</span><span class="p">,</span>
    <span class="s2">&quot;21 Developed, Open Space&quot;</span><span class="p">:</span> <span class="s2">&quot;dec5c5&quot;</span><span class="p">,</span>
    <span class="s2">&quot;22 Developed, Low Intensity&quot;</span><span class="p">:</span> <span class="s2">&quot;d99282&quot;</span><span class="p">,</span>
    <span class="s2">&quot;23 Developed, Medium Intensity&quot;</span><span class="p">:</span> <span class="s2">&quot;eb0000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;24 Developed High Intensity&quot;</span><span class="p">:</span> <span class="s2">&quot;ab0000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;31 Barren Land (Rock/Sand/Clay)&quot;</span><span class="p">:</span> <span class="s2">&quot;b3ac9f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;41 Deciduous Forest&quot;</span><span class="p">:</span> <span class="s2">&quot;68ab5f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;42 Evergreen Forest&quot;</span><span class="p">:</span> <span class="s2">&quot;1c5f2c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;43 Mixed Forest&quot;</span><span class="p">:</span> <span class="s2">&quot;b5c58f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;51 Dwarf Scrub&quot;</span><span class="p">:</span> <span class="s2">&quot;af963c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;52 Shrub/Scrub&quot;</span><span class="p">:</span> <span class="s2">&quot;ccb879&quot;</span><span class="p">,</span>
    <span class="s2">&quot;71 Grassland/Herbaceous&quot;</span><span class="p">:</span> <span class="s2">&quot;dfdfc2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;72 Sedge/Herbaceous&quot;</span><span class="p">:</span> <span class="s2">&quot;d1d182&quot;</span><span class="p">,</span>
    <span class="s2">&quot;73 Lichens&quot;</span><span class="p">:</span> <span class="s2">&quot;a3cc51&quot;</span><span class="p">,</span>
    <span class="s2">&quot;74 Moss&quot;</span><span class="p">:</span> <span class="s2">&quot;82ba9e&quot;</span><span class="p">,</span>
    <span class="s2">&quot;81 Pasture/Hay&quot;</span><span class="p">:</span> <span class="s2">&quot;dcd939&quot;</span><span class="p">,</span>
    <span class="s2">&quot;82 Cultivated Crops&quot;</span><span class="p">:</span> <span class="s2">&quot;ab6c28&quot;</span><span class="p">,</span>
    <span class="s2">&quot;90 Woody Wetlands&quot;</span><span class="p">:</span> <span class="s2">&quot;b8d9eb&quot;</span><span class="p">,</span>
    <span class="s2">&quot;95 Emergent Herbaceous Wetlands&quot;</span><span class="p">:</span> <span class="s2">&quot;6c9fb8&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">nlcd</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/NLCD_RELEASES/2021_REL/NLCD/2021&quot;</span><span class="p">)</span>
<span class="n">landcover</span> <span class="o">=</span> <span class="n">nlcd</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;landcover&quot;</span><span class="p">)</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">landcover</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;NLCD Land Cover 2021&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;NLCD Land Cover Classification&quot;</span><span class="p">,</span> <span class="n">legend_dict</span><span class="o">=</span><span class="n">legend_dict</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="color-bars">
<h3><span class="section-number">17.9.3. </span>Color Bars<a class="headerlink" href="#color-bars" title="Link to this heading">#</a></h3>
<p>Add a horizontal color bar representing elevation data. This example demonstrates how to add an SRTM elevation layer and overlay a color bar for quick visual reference of elevation values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>

<span class="n">dem</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;006633&quot;</span><span class="p">,</span> <span class="s2">&quot;E5FFCC&quot;</span><span class="p">,</span> <span class="s2">&quot;662A00&quot;</span><span class="p">,</span> <span class="s2">&quot;D8D8D8&quot;</span><span class="p">,</span> <span class="s2">&quot;F5F5F5&quot;</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;SRTM DEM&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">vis_params</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Elevation (m)&quot;</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;SRTM DEM&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Add a vertical color bar for elevation data, adjusting its orientation and dimensions to fit the map layout.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span>
    <span class="n">vis_params</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Elevation (m)&quot;</span><span class="p">,</span>
    <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;SRTM DEM&quot;</span><span class="p">,</span>
    <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
    <span class="n">max_width</span><span class="o">=</span><span class="s2">&quot;100px&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Make the color bar’s background transparent, which improves visual integration with the map when adding color bars for data layers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span>
    <span class="n">vis_params</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Elevation (m)&quot;</span><span class="p">,</span>
    <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;SRTM DEM&quot;</span><span class="p">,</span>
    <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
    <span class="n">max_width</span><span class="o">=</span><span class="s2">&quot;100px&quot;</span><span class="p">,</span>
    <span class="n">transparent_bg</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="split-panel-maps">
<h3><span class="section-number">17.9.4. </span>Split-panel Maps<a class="headerlink" href="#split-panel-maps" title="Link to this heading">#</a></h3>
<p>Create a split-panel map with basemaps, allowing users to compare two different basemaps side by side.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">split_map</span><span class="p">(</span><span class="n">left_layer</span><span class="o">=</span><span class="s2">&quot;Esri.WorldTopoMap&quot;</span><span class="p">,</span> <span class="n">right_layer</span><span class="o">=</span><span class="s2">&quot;OpenTopoMap&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Use Earth Engine layers in a split-panel map to compare NLCD data from 2001 and 2021. This layout is effective for examining changes between datasets across time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">),</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>

<span class="n">nlcd_2001</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/NLCD_RELEASES/2019_REL/NLCD/2001&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;landcover&quot;</span><span class="p">)</span>
<span class="n">nlcd_2021</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/NLCD_RELEASES/2021_REL/NLCD/2021&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;landcover&quot;</span><span class="p">)</span>

<span class="n">left_layer</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">ee_tile_layer</span><span class="p">(</span><span class="n">nlcd_2001</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;NLCD 2001&quot;</span><span class="p">)</span>
<span class="n">right_layer</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">ee_tile_layer</span><span class="p">(</span><span class="n">nlcd_2021</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;NLCD 2021&quot;</span><span class="p">)</span>

<span class="n">m</span><span class="o">.</span><span class="n">split_map</span><span class="p">(</span><span class="n">left_layer</span><span class="p">,</span> <span class="n">right_layer</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="linked-maps">
<h3><span class="section-number">17.9.5. </span>Linked Maps<a class="headerlink" href="#linked-maps" title="Link to this heading">#</a></h3>
<p>Set up a 2x2 grid of linked maps showing Sentinel-2 imagery in different band combinations, ideal for comparing multiple visual perspectives. Note that this feature may not work in Colab.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;COPERNICUS/S2_SR_HARMONIZED&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filterDate</span><span class="p">(</span><span class="s2">&quot;2024-07-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2024-10-01&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="s2">&quot;CLOUDY_PIXEL_PERCENTAGE&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">img</span><span class="p">:</span> <span class="n">img</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
    <span class="o">.</span><span class="n">median</span><span class="p">()</span>
<span class="p">)</span>

<span class="n">vis_params</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">],</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">1.3</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B8&quot;</span><span class="p">,</span> <span class="s2">&quot;B11&quot;</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">],</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">1.3</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B8&quot;</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">],</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">1.3</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B12&quot;</span><span class="p">,</span> <span class="s2">&quot;B12&quot;</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">],</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">1.3</span><span class="p">},</span>
<span class="p">]</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Natural Color (B4/B3/B2)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Land/Water (B8/B11/B4)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Color Infrared (B8/B4/B3)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Vegetation (B12/B11/B4)&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">geemap</span><span class="o">.</span><span class="n">linked_maps</span><span class="p">(</span>
    <span class="n">rows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">cols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="s2">&quot;300px&quot;</span><span class="p">,</span>
    <span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">35.959111</span><span class="p">,</span> <span class="o">-</span><span class="mf">83.909463</span><span class="p">],</span>
    <span class="n">zoom</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
    <span class="n">ee_objects</span><span class="o">=</span><span class="p">[</span><span class="n">image</span><span class="p">],</span>
    <span class="n">vis_params</span><span class="o">=</span><span class="n">vis_params</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">label_position</span><span class="o">=</span><span class="s2">&quot;topright&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="timeseries-inspector">
<h3><span class="section-number">17.9.6. </span>Timeseries Inspector<a class="headerlink" href="#timeseries-inspector" title="Link to this heading">#</a></h3>
<p>Retrieve the available years in the NLCD collection for setting up a timeseries. This step helps confirm available time points for inspecting changes over time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">collection</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;USGS/NLCD_RELEASES/2019_REL/NLCD&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;landcover&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;landcover&quot;</span><span class="p">]}</span>
<span class="n">years</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">aggregate_array</span><span class="p">(</span><span class="s2">&quot;system:index&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
<span class="n">years</span>
</pre></div>
</div>
</div>
</div>
<p>Use a timeseries inspector to compare changes in NLCD data across different years. This tool is ideal for temporal data visualization, showing how land cover changes in an interactive format.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">ts_inspector</span><span class="p">(</span>
    <span class="n">left_ts</span><span class="o">=</span><span class="n">collection</span><span class="p">,</span>
    <span class="n">right_ts</span><span class="o">=</span><span class="n">collection</span><span class="p">,</span>
    <span class="n">left_names</span><span class="o">=</span><span class="n">years</span><span class="p">,</span>
    <span class="n">right_names</span><span class="o">=</span><span class="n">years</span><span class="p">,</span>
    <span class="n">left_vis</span><span class="o">=</span><span class="n">vis_params</span><span class="p">,</span>
    <span class="n">right_vis</span><span class="o">=</span><span class="n">vis_params</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="s2">&quot;80px&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="time-slider">
<h3><span class="section-number">17.9.7. </span>Time Slider<a class="headerlink" href="#time-slider" title="Link to this heading">#</a></h3>
<p>Create a time slider to explore MODIS vegetation data, setting the slider to visualize NDVI values over a specific period. This feature allows users to track vegetation changes month-by-month.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>

<span class="n">collection</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/MCD43A4_006_NDVI&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2018-06-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2018-07-01&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;NDVI&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="s2">&quot;ndvi&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_time_slider</span><span class="p">(</span><span class="n">collection</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="n">time_interval</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Add a time slider for visualizing NOAA weather data over a 24-hour period, using color-coding to show temperature variations. The slider enables temporal exploration of hourly data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>

<span class="n">collection</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;NOAA/GFS0P25&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filterDate</span><span class="p">(</span><span class="s2">&quot;2018-12-22&quot;</span><span class="p">,</span> <span class="s2">&quot;2018-12-23&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>
    <span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;temperature_2m_above_ground&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">40.0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">35.0</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="s2">&quot;cyan&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:00&quot;</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">)]</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_time_slider</span><span class="p">(</span><span class="n">collection</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">time_interval</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Add a time slider to visualize Sentinel-2 imagery with specific bands and cloud cover filtering. This feature enables temporal analysis of imagery data, allowing users to explore seasonal and other changes over time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>

<span class="n">collection</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;COPERNICUS/S2_SR_HARMONIZED&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filterBounds</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="o">-</span><span class="mf">83.909463</span><span class="p">,</span> <span class="mf">35.959111</span><span class="p">]))</span>
    <span class="o">.</span><span class="n">filterMetadata</span><span class="p">(</span><span class="s2">&quot;CLOUDY_PIXEL_PERCENTAGE&quot;</span><span class="p">,</span> <span class="s2">&quot;less_than&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">calendarRange</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">))</span>
<span class="p">)</span>

<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span> <span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B8&quot;</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">]}</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_time_slider</span><span class="p">(</span><span class="n">collection</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">set_center</span><span class="p">(</span><span class="o">-</span><span class="mf">83.909463</span><span class="p">,</span> <span class="mf">35.959111</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="processing-of-vector-data">
<h2><span class="section-number">17.10. </span>Processing of Vector Data<a class="headerlink" href="#processing-of-vector-data" title="Link to this heading">#</a></h2>
<section id="from-geojson">
<h3><span class="section-number">17.10.1. </span>From GeoJSON<a class="headerlink" href="#from-geojson" title="Link to this heading">#</a></h3>
<p>Load GeoJSON data into an Earth Engine FeatureCollection. This example retrieves countries data from a remote URL, converting it to a FeatureCollection and visualizing it with a specified style.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">in_geojson</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/gee-community/geemap/blob/master/examples/data/countries.geojson&quot;</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">geojson_to_ee</span><span class="p">(</span><span class="n">in_geojson</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="o">.</span><span class="n">style</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;ff0000&quot;</span><span class="p">,</span> <span class="s2">&quot;fillColor&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000&quot;</span><span class="p">}),</span> <span class="p">{},</span> <span class="s2">&quot;Countries&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="from-shapefile">
<h3><span class="section-number">17.10.2. </span>From Shapefile<a class="headerlink" href="#from-shapefile" title="Link to this heading">#</a></h3>
<p>Download and load a shapefile of country boundaries. The shapefile is converted to a FeatureCollection for visualization on the map.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/gee-community/geemap/blob/master/examples/data/countries.zip&quot;</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">in_shp</span> <span class="o">=</span> <span class="s2">&quot;countries.shp&quot;</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">shp_to_ee</span><span class="p">(</span><span class="n">in_shp</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;Countries&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="from-geodataframe">
<h3><span class="section-number">17.10.3. </span>From GeoDataFrame<a class="headerlink" href="#from-geodataframe" title="Link to this heading">#</a></h3>
<p>Read a shapefile into a GeoDataFrame using geopandas, then convert the GeoDataFrame to an Earth Engine FeatureCollection for mapping.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>

<span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">in_shp</span><span class="p">)</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">gdf_to_ee</span><span class="p">(</span><span class="n">gdf</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;Countries&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="to-geojson">
<h3><span class="section-number">17.10.4. </span>To GeoJSON<a class="headerlink" href="#to-geojson" title="Link to this heading">#</a></h3>
<p>Filter U.S. state data to select Tennessee and save it as a GeoJSON file, which can be shared or used in other GIS tools.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">states</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">&quot;NAME&quot;</span><span class="p">,</span> <span class="s2">&quot;Tennessee&quot;</span><span class="p">))</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;Tennessee&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_geojson</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;Tennessee.geojson&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="to-shapefile">
<h3><span class="section-number">17.10.5. </span>To Shapefile<a class="headerlink" href="#to-shapefile" title="Link to this heading">#</a></h3>
<p>Export the filtered Tennessee FeatureCollection to a shapefile format for offline use or compatibility with desktop GIS software.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_shp</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;Tennessee.shp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="to-geodataframe">
<h3><span class="section-number">17.10.6. </span>To GeoDataFrame<a class="headerlink" href="#to-geodataframe" title="Link to this heading">#</a></h3>
<p>Convert an Earth Engine FeatureCollection to a GeoDataFrame for further analysis in Python or use in interactive maps.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdf</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_gdf</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span>
<span class="n">gdf</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdf</span><span class="o">.</span><span class="n">explore</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="to-dataframe">
<h3><span class="section-number">17.10.7. </span>To DataFrame<a class="headerlink" href="#to-dataframe" title="Link to this heading">#</a></h3>
<p>Transform an Earth Engine FeatureCollection into a pandas DataFrame, which can then be used for data analysis in Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_df</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="to-csv">
<h3><span class="section-number">17.10.8. </span>To CSV<a class="headerlink" href="#to-csv" title="Link to this heading">#</a></h3>
<p>Export the FeatureCollection data to a CSV file, useful for spreadsheet applications and data reporting.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_csv</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;Indiana.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="processing-of-raster-data">
<h2><span class="section-number">17.11. </span>Processing of Raster Data<a class="headerlink" href="#processing-of-raster-data" title="Link to this heading">#</a></h2>
<section id="extract-pixel-values">
<h3><span class="section-number">17.11.1. </span>Extract Pixel Values<a class="headerlink" href="#extract-pixel-values" title="Link to this heading">#</a></h3>
<section id="extracting-values-to-points">
<h4><span class="section-number">17.11.1.1. </span>Extracting Values to Points<a class="headerlink" href="#extracting-values-to-points" title="Link to this heading">#</a></h4>
<p>Load and visualize SRTM DEM and Landsat 7 imagery. Points from a shapefile of U.S. cities are added, and the tool extracts DEM values to these points, saving the results in a shapefile.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="n">dem</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">landsat7</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LE7_TOA_5YEAR/1999_2003&quot;</span><span class="p">)</span>

<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;006633&quot;</span><span class="p">,</span> <span class="s2">&quot;E5FFCC&quot;</span><span class="p">,</span> <span class="s2">&quot;662A00&quot;</span><span class="p">,</span> <span class="s2">&quot;D8D8D8&quot;</span><span class="p">,</span> <span class="s2">&quot;F5F5F5&quot;</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span>
    <span class="n">landsat7</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">],</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
    <span class="s2">&quot;Landsat 7&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;SRTM DEM&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">in_shp</span> <span class="o">=</span> <span class="s2">&quot;us_cities.shp&quot;</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/giswqs/data/raw/main/us/us_cities.zip&quot;</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">in_fc</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">shp_to_ee</span><span class="p">(</span><span class="n">in_shp</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">in_fc</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;Cities&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">extract_values_to_points</span><span class="p">(</span><span class="n">in_fc</span><span class="p">,</span> <span class="n">dem</span><span class="p">,</span> <span class="n">out_fc</span><span class="o">=</span><span class="s2">&quot;dem.shp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">shp_to_gdf</span><span class="p">(</span><span class="s2">&quot;dem.shp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">extract_values_to_points</span><span class="p">(</span><span class="n">in_fc</span><span class="p">,</span> <span class="n">landsat7</span><span class="p">,</span> <span class="s2">&quot;landsat.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">csv_to_df</span><span class="p">(</span><span class="s2">&quot;landsat.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="extracting-pixel-values-along-a-transect">
<h4><span class="section-number">17.11.1.2. </span>Extracting Pixel Values Along a Transect<a class="headerlink" href="#extracting-pixel-values-along-a-transect" title="Link to this heading">#</a></h4>
<p>Visualize SRTM DEM with a terrain basemap. Define a line transect, either interactively or manually, and extract elevation values along this line. Display the elevation profile in a line chart, then export it as a CSV file for further analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;TERRAIN&quot;</span><span class="p">)</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;006633&quot;</span><span class="p">,</span> <span class="s2">&quot;E5FFCC&quot;</span><span class="p">,</span> <span class="s2">&quot;662A00&quot;</span><span class="p">,</span> <span class="s2">&quot;D8D8D8&quot;</span><span class="p">,</span> <span class="s2">&quot;F5F5F5&quot;</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;SRTM DEM&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">line</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">user_roi</span>
<span class="k">if</span> <span class="n">line</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">LineString</span><span class="p">(</span>
        <span class="p">[[</span><span class="o">-</span><span class="mf">120.2232</span><span class="p">,</span> <span class="mf">36.3148</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">118.9269</span><span class="p">,</span> <span class="mf">36.7121</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">117.2022</span><span class="p">,</span> <span class="mf">36.7562</span><span class="p">]]</span>
    <span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;ROI&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">centerObject</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reducer</span> <span class="o">=</span> <span class="s2">&quot;mean&quot;</span>
<span class="n">transect</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">extract_transect</span><span class="p">(</span>
    <span class="n">image</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">n_segments</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">reducer</span><span class="o">=</span><span class="n">reducer</span><span class="p">,</span> <span class="n">to_pandas</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">transect</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">line_chart</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">transect</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span>
    <span class="n">markers</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Distance (m)&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Elevation (m)&quot;</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">transect</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;transect.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="zonal-statistics">
<h3><span class="section-number">17.11.2. </span>Zonal Statistics<a class="headerlink" href="#zonal-statistics" title="Link to this heading">#</a></h3>
<section id="zonal-statistics-with-an-image-and-a-feature-collection">
<h4><span class="section-number">17.11.2.1. </span>Zonal Statistics with an Image and a Feature Collection<a class="headerlink" href="#zonal-statistics-with-an-image-and-a-feature-collection" title="Link to this heading">#</a></h4>
<p>This section demonstrates the use of zonal statistics to calculate the mean elevation values within U.S. state boundaries using NASA’s SRTM DEM data and a 5-year Landsat composite. The <code class="docutils literal notranslate"><span class="pre">geemap.zonal_stats</span></code> function exports results to CSV files for analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># Add NASA SRTM</span>
<span class="n">dem</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="n">dem_vis</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span>
    <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;006633&quot;</span><span class="p">,</span> <span class="s2">&quot;E5FFCC&quot;</span><span class="p">,</span> <span class="s2">&quot;662A00&quot;</span><span class="p">,</span> <span class="s2">&quot;D8D8D8&quot;</span><span class="p">,</span> <span class="s2">&quot;F5F5F5&quot;</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">dem_vis</span><span class="p">,</span> <span class="s2">&quot;SRTM DEM&quot;</span><span class="p">)</span>

<span class="c1"># Add 5-year Landsat TOA composite</span>
<span class="n">landsat</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LE7_TOA_5YEAR/1999_2003&quot;</span><span class="p">)</span>
<span class="n">landsat_vis</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">],</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mf">1.4</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">landsat</span><span class="p">,</span> <span class="n">landsat_vis</span><span class="p">,</span> <span class="s2">&quot;Landsat&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

<span class="c1"># Add US Census States</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fillColor&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000&quot;</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">style</span><span class="p">(</span><span class="o">**</span><span class="n">style</span><span class="p">),</span> <span class="p">{},</span> <span class="s2">&quot;US States&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">out_dem_stats</span> <span class="o">=</span> <span class="s2">&quot;dem_stats.csv&quot;</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">zonal_stats</span><span class="p">(</span>
    <span class="n">dem</span><span class="p">,</span> <span class="n">states</span><span class="p">,</span> <span class="n">out_dem_stats</span><span class="p">,</span> <span class="n">statistics_type</span><span class="o">=</span><span class="s2">&quot;MEAN&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">return_fc</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">out_landsat_stats</span> <span class="o">=</span> <span class="s2">&quot;landsat_stats.csv&quot;</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">zonal_stats</span><span class="p">(</span>
    <span class="n">landsat</span><span class="p">,</span>
    <span class="n">states</span><span class="p">,</span>
    <span class="n">out_landsat_stats</span><span class="p">,</span>
    <span class="n">statistics_type</span><span class="o">=</span><span class="s2">&quot;MEAN&quot;</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
    <span class="n">return_fc</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="zonal-statistics-by-group">
<h4><span class="section-number">17.11.2.2. </span>Zonal Statistics by Group<a class="headerlink" href="#zonal-statistics-by-group" title="Link to this heading">#</a></h4>
<p>Here, zonal statistics are applied to NLCD land cover data, calculating the area of each land cover type within each U.S. state. The results are saved to CSV files as both raw totals and percentages. This provides insights into the spatial distribution of land cover categories across states.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># Add NLCD data</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/NLCD_RELEASES/2019_REL/NLCD/2019&quot;</span><span class="p">)</span>
<span class="n">landcover</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;landcover&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">landcover</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;NLCD 2019&quot;</span><span class="p">)</span>

<span class="c1"># Add US census states</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fillColor&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000&quot;</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">states</span><span class="o">.</span><span class="n">style</span><span class="p">(</span><span class="o">**</span><span class="n">style</span><span class="p">),</span> <span class="p">{},</span> <span class="s2">&quot;US States&quot;</span><span class="p">)</span>

<span class="c1"># Add NLCD legend</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;NLCD Land Cover&quot;</span><span class="p">,</span> <span class="n">builtin_legend</span><span class="o">=</span><span class="s2">&quot;NLCD&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nlcd_stats</span> <span class="o">=</span> <span class="s2">&quot;nlcd_stats.csv&quot;</span>

<span class="n">geemap</span><span class="o">.</span><span class="n">zonal_stats_by_group</span><span class="p">(</span>
    <span class="n">landcover</span><span class="p">,</span>
    <span class="n">states</span><span class="p">,</span>
    <span class="n">nlcd_stats</span><span class="p">,</span>
    <span class="n">statistics_type</span><span class="o">=</span><span class="s2">&quot;SUM&quot;</span><span class="p">,</span>
    <span class="n">denominator</span><span class="o">=</span><span class="mf">1e6</span><span class="p">,</span>
    <span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nlcd_stats</span> <span class="o">=</span> <span class="s2">&quot;nlcd_stats_pct.csv&quot;</span>

<span class="n">geemap</span><span class="o">.</span><span class="n">zonal_stats_by_group</span><span class="p">(</span>
    <span class="n">landcover</span><span class="p">,</span>
    <span class="n">states</span><span class="p">,</span>
    <span class="n">nlcd_stats</span><span class="p">,</span>
    <span class="n">statistics_type</span><span class="o">=</span><span class="s2">&quot;PERCENTAGE&quot;</span><span class="p">,</span>
    <span class="n">denominator</span><span class="o">=</span><span class="mf">1e6</span><span class="p">,</span>
    <span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="zonal-statistics-with-two-images">
<h4><span class="section-number">17.11.2.3. </span>Zonal Statistics with Two Images<a class="headerlink" href="#zonal-statistics-with-two-images" title="Link to this heading">#</a></h4>
<p>This example calculates the mean elevation values within different NLCD land cover types using DEM and NLCD data. The <code class="docutils literal notranslate"><span class="pre">geemap.image_stats_by_zone</span></code> function provides summary statistics (e.g., mean and standard deviation), which can be exported to CSV files for further analysis or visualization.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">dem</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/3DEP/10m&quot;</span><span class="p">)</span>
<span class="n">vis</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span> <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="s2">&quot;terrain&quot;</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">vis</span><span class="p">,</span> <span class="s2">&quot;DEM&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">landcover</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/NLCD_RELEASES/2019_REL/NLCD/2019&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;landcover&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">landcover</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;NLCD 2019&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;NLCD Land Cover Classification&quot;</span><span class="p">,</span> <span class="n">builtin_legend</span><span class="o">=</span><span class="s2">&quot;NLCD&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stats</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">image_stats_by_zone</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">landcover</span><span class="p">,</span> <span class="n">reducer</span><span class="o">=</span><span class="s2">&quot;MEAN&quot;</span><span class="p">)</span>
<span class="n">stats</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stats</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;mean.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">image_stats_by_zone</span><span class="p">(</span><span class="n">dem</span><span class="p">,</span> <span class="n">landcover</span><span class="p">,</span> <span class="n">out_csv</span><span class="o">=</span><span class="s2">&quot;std.csv&quot;</span><span class="p">,</span> <span class="n">reducer</span><span class="o">=</span><span class="s2">&quot;STD&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="map-algebra">
<h3><span class="section-number">17.11.3. </span>Map Algebra<a class="headerlink" href="#map-algebra" title="Link to this heading">#</a></h3>
<p>This example demonstrates basic map algebra by computing the Normalized Difference Vegetation Index (NDVI) for a 5-year Landsat composite and the Enhanced Vegetation Index (EVI) for a Landsat 8 image. These indices are visualized with color scales to highlight areas of vegetation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>

<span class="c1"># Load a 5-year Landsat 7 composite 1999-2003.</span>
<span class="n">landsat_1999</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LE7_TOA_5YEAR/1999_2003&quot;</span><span class="p">)</span>

<span class="c1"># Compute NDVI.</span>
<span class="n">ndvi_1999</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">landsat_1999</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;B4&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">landsat_1999</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;B3&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">landsat_1999</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;B4&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">landsat_1999</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;B3&quot;</span><span class="p">)))</span>
<span class="p">)</span>

<span class="n">vis</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="s2">&quot;ndvi&quot;</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">ndvi_1999</span><span class="p">,</span> <span class="n">vis</span><span class="p">,</span> <span class="s2">&quot;NDVI&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">vis</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;NDVI&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 8 image.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&quot;</span><span class="p">)</span>

<span class="c1"># Compute the EVI using an expression.</span>
<span class="n">evi</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">expression</span><span class="p">(</span>
    <span class="s2">&quot;2.5 * ((NIR - RED) / (NIR + 6 * RED - 7.5 * BLUE + 1))&quot;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">&quot;NIR&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;B5&quot;</span><span class="p">),</span>
        <span class="s2">&quot;RED&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;B4&quot;</span><span class="p">),</span>
        <span class="s2">&quot;BLUE&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;B2&quot;</span><span class="p">),</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="c1"># Define a map centered on San Francisco Bay.</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">37.4675</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.1363</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="n">vis</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="s2">&quot;ndvi&quot;</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">evi</span><span class="p">,</span> <span class="n">vis</span><span class="p">,</span> <span class="s2">&quot;EVI&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">vis</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;EVI&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="working-with-local-geospatial-data">
<h2><span class="section-number">17.12. </span>Working with Local Geospatial Data<a class="headerlink" href="#working-with-local-geospatial-data" title="Link to this heading">#</a></h2>
<section id="raster-data">
<h3><span class="section-number">17.12.1. </span>Raster Data<a class="headerlink" href="#raster-data" title="Link to this heading">#</a></h3>
<p>Single-band and multi-band raster data can be loaded from local files. Here, a digital elevation model (DEM) is loaded and displayed with a terrain color scheme, and another raster is displayed with a false-color composite to highlight different features.</p>
<section id="single-band-raster-data">
<h4><span class="section-number">17.12.1.1. </span>Single-Band Raster Data<a class="headerlink" href="#single-band-raster-data" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/giswqs/data/raw/main/raster/srtm90.tif&quot;</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;dem.tif&quot;</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="multi-band-raster-data">
<h4><span class="section-number">17.12.1.2. </span>Multi-Band Raster Data<a class="headerlink" href="#multi-band-raster-data" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_raster</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;terrain&quot;</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;DEM&quot;</span><span class="p">)</span>
<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">,</span> <span class="s2">&quot;palette&quot;</span><span class="p">:</span> <span class="s2">&quot;terrain&quot;</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_colorbar</span><span class="p">(</span><span class="n">vis_params</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Elevation (m)&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/giswqs/data/raw/main/raster/cog.tif&quot;</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;cog.tif&quot;</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_raster</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">indexes</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;False color&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="vector-data">
<h3><span class="section-number">17.12.2. </span>Vector Data<a class="headerlink" href="#vector-data" title="Link to this heading">#</a></h3>
<p>Various vector data formats can be loaded and visualized with geemap, including GeoJSON, Shapefile, GeoDataFrame, and GeoPackage formats. GeoJSON data is styled dynamically with custom colors based on attributes, while Shapefiles and GeoDataFrames allow for simple, structured addition of geographic features to the map.</p>
<section id="geojson">
<h4><span class="section-number">17.12.2.1. </span>GeoJSON<a class="headerlink" href="#geojson" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">in_geojson</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;https://github.com/opengeos/datasets/releases/download/vector/cables.geojson&quot;</span>
<span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_geojson</span><span class="p">(</span><span class="n">in_geojson</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;Cable lines&quot;</span><span class="p">,</span> <span class="n">info_mode</span><span class="o">=</span><span class="s2">&quot;on_hover&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;CartoDB.DarkMatter&quot;</span><span class="p">)</span>
<span class="n">callback</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">feat</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="n">feat</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;color&quot;</span><span class="p">],</span> <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_geojson</span><span class="p">(</span><span class="n">in_geojson</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;Cable lines&quot;</span><span class="p">,</span> <span class="n">style_callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/opengeos/datasets/releases/download/world/countries.geojson&quot;</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_geojson</span><span class="p">(</span>
    <span class="n">url</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;Countries&quot;</span><span class="p">,</span> <span class="n">fill_colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">random_color</span><span class="p">(</span><span class="n">feature</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;fillColor&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">]),</span>
    <span class="p">}</span>


<span class="n">m</span><span class="o">.</span><span class="n">add_geojson</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;Countries&quot;</span><span class="p">,</span> <span class="n">style_callback</span><span class="o">=</span><span class="n">random_color</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>

<span class="n">style</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;#0000ff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;opacity&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;fillColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#0000ff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fillOpacity&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">hover_style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fillOpacity&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">}</span>

<span class="n">m</span><span class="o">.</span><span class="n">add_geojson</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;Countries&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">hover_style</span><span class="o">=</span><span class="n">hover_style</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="shapefile">
<h4><span class="section-number">17.12.2.2. </span>Shapefile<a class="headerlink" href="#shapefile" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/opengeos/datasets/releases/download/world/countries.zip&quot;</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">in_shp</span> <span class="o">=</span> <span class="s2">&quot;countries.shp&quot;</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_shp</span><span class="p">(</span><span class="n">in_shp</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;Countries&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="geodataframe">
<h4><span class="section-number">17.12.2.3. </span>GeoDataFrame<a class="headerlink" href="#geodataframe" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;countries.shp&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_gdf</span><span class="p">(</span><span class="n">gdf</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;Countries&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="geopackage">
<h4><span class="section-number">17.12.2.4. </span>GeoPackage<a class="headerlink" href="#geopackage" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/opengeos/datasets/releases/download/world/countries.gpkg&quot;</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_vector</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;Countries&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="csv-to-vector">
<h4><span class="section-number">17.12.2.5. </span>CSV to Vector<a class="headerlink" href="#csv-to-vector" title="Link to this heading">#</a></h4>
<p>Geemap enables easy conversion from CSV files to vector data formats like GeoJSON, Shapefile, and GeoPackage. The data from a CSV is visualized on a map, where cities are displayed with markers styled by region, and a legend is added for clear reference.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/gee-community/geemap/blob/master/examples/data/us_cities.csv&quot;</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">csv_to_df</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">csv_to_geojson</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span> <span class="s2">&quot;cities.geojson&quot;</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="s2">&quot;longitude&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">csv_to_shp</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;cities.shp&quot;</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="s2">&quot;longitude&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">csv_to_vector</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;cities.gpkg&quot;</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="s2">&quot;longitude&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdf</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">csv_to_gdf</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="s2">&quot;longitude&quot;</span><span class="p">)</span>
<span class="n">gdf</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cities</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;https://github.com/gee-community/geemap/blob/master/examples/data/us_cities.csv&quot;</span>
<span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_points_from_xy</span><span class="p">(</span><span class="n">cities</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;longitude&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">regions</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/gee-community/geemap/blob/master/examples/data/us_regions.geojson&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_geojson</span><span class="p">(</span><span class="n">regions</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;US Regions&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_points_from_xy</span><span class="p">(</span>
    <span class="n">cities</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;longitude&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span>
    <span class="n">layer_name</span><span class="o">=</span><span class="s2">&quot;US Cities&quot;</span><span class="p">,</span>
    <span class="n">color_column</span><span class="o">=</span><span class="s2">&quot;region&quot;</span><span class="p">,</span>
    <span class="n">icon_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;gear&quot;</span><span class="p">,</span> <span class="s2">&quot;map&quot;</span><span class="p">,</span> <span class="s2">&quot;leaf&quot;</span><span class="p">,</span> <span class="s2">&quot;globe&quot;</span><span class="p">],</span>
    <span class="n">spin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">add_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_circle_markers_from_xy</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;longitude&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span>
    <span class="n">radius</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
    <span class="n">fill_color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="n">fill_opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="accessing-cloud-optimized-geotiffs">
<h2><span class="section-number">17.13. </span>Accessing Cloud Optimized GeoTIFFs<a class="headerlink" href="#accessing-cloud-optimized-geotiffs" title="Link to this heading">#</a></h2>
<section id="cloud-optimized-geotiffs-cog">
<h3><span class="section-number">17.13.1. </span>Cloud Optimized GeoTIFFs (COG)<a class="headerlink" href="#cloud-optimized-geotiffs-cog" title="Link to this heading">#</a></h3>
<p>This section shows how to add Cloud Optimized GeoTIFF (COG) layers to a map using URLs, which allows for efficient loading and visualization of large raster files stored on the cloud. In this example, a pre-event image of the 2020 California wildfire is added to a map, allowing for remote sensing analysis without local file storage.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://opendata.digitalglobe.com/events/california-fire-2020/pre-event/2018-02-16/pine-gulch-fire20/1030010076004E00.tif&quot;</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_cog_layer</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Fire (pre-event)&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">cog_center</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The COG functions also allow inspection of data, such as viewing the bounds and available bands in the GeoTIFF file. The pre- and post-event images can be compared in a split map view to analyze changes due to the fire.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">cog_bands</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url2</span> <span class="o">=</span> <span class="s2">&quot;https://opendata.digitalglobe.com/events/california-fire-2020/post-event/2020-08-14/pine-gulch-fire20/10300100AAC8DD00.tif&quot;</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_cog_layer</span><span class="p">(</span><span class="n">url2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Fire (post-event)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">39.4568</span><span class="p">,</span> <span class="o">-</span><span class="mf">108.5107</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">split_map</span><span class="p">(</span><span class="n">left_layer</span><span class="o">=</span><span class="n">url2</span><span class="p">,</span> <span class="n">right_layer</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="spatiotemporal-asset-catalog-stac">
<h3><span class="section-number">17.13.2. </span>SpatioTemporal Asset Catalog (STAC)<a class="headerlink" href="#spatiotemporal-asset-catalog-stac" title="Link to this heading">#</a></h3>
<p>STAC collections can be accessed and visualized similarly, enabling dynamic mapping of spatiotemporal data. By specifying STAC URLs, you can view dataset bounds, center the map on a dataset, and select specific bands to add as layers. This example shows adding panchromatic and false-color imagery for enhanced visual analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://tinyurl.com/22vptbws&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">stac_bounds</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">stac_center</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">stac_bands</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_stac_layer</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pan&quot;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Panchromatic&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_stac_layer</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B1&quot;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;False color&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="exporting-earth-engine-data">
<h2><span class="section-number">17.14. </span>Exporting Earth Engine Data<a class="headerlink" href="#exporting-earth-engine-data" title="Link to this heading">#</a></h2>
<section id="exporting-images">
<h3><span class="section-number">17.14.1. </span>Exporting Images<a class="headerlink" href="#exporting-images" title="Link to this heading">#</a></h3>
<p>This section demonstrates exporting Earth Engine images. First, a Landsat image is added to the map for visualization, and a rectangular region of interest (ROI) is specified. Exporting options include saving the image locally with specified scale and region or exporting to Google Drive. It’s possible to define custom CRS and transformation settings when saving the image.</p>
<p>Add a Landsat image to the map.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;B5&quot;</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">vis_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.95</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}</span>

<span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">vis_params</span><span class="p">,</span> <span class="s2">&quot;Landsat&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Add a rectangle to the map.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">region</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="o">-</span><span class="mf">122.5955</span><span class="p">,</span> <span class="mf">37.5339</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.0982</span><span class="p">,</span> <span class="mf">37.8252</span><span class="p">)</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="n">region</span><span class="p">)</span>
<span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;ffff00ff&quot;</span><span class="p">,</span> <span class="s2">&quot;fillColor&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000&quot;</span><span class="p">}</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="o">.</span><span class="n">style</span><span class="p">(</span><span class="o">**</span><span class="n">style</span><span class="p">),</span> <span class="p">{},</span> <span class="s2">&quot;ROI&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To local drive</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_export_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;landsat.tif&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Check image projection.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">projection</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">projection</span><span class="p">()</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
<span class="n">projection</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">crs</span> <span class="o">=</span> <span class="n">projection</span><span class="p">[</span><span class="s2">&quot;crs&quot;</span><span class="p">]</span>
<span class="n">crs_transform</span> <span class="o">=</span> <span class="n">projection</span><span class="p">[</span><span class="s2">&quot;transform&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Specify region, crs, and crs_transform.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_export_image</span><span class="p">(</span>
    <span class="n">image</span><span class="p">,</span>
    <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;landsat_crs.tif&quot;</span><span class="p">,</span>
    <span class="n">crs</span><span class="o">=</span><span class="n">crs</span><span class="p">,</span>
    <span class="n">crs_transform</span><span class="o">=</span><span class="n">crs_transform</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To Google Drive</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_export_image_to_drive</span><span class="p">(</span>
    <span class="n">image</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;landsat&quot;</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="s2">&quot;export&quot;</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">30</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">download_ee_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="s2">&quot;landsat.tif&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exporting-image-collections">
<h3><span class="section-number">17.14.2. </span>Exporting Image Collections<a class="headerlink" href="#exporting-image-collections" title="Link to this heading">#</a></h3>
<p>Image collections, like time series data, can be filtered and exported as multiple images. Here, a National Agriculture Imagery Program (NAIP) collection is filtered by date and location. The collection can then be saved locally or sent to Google Drive, making it easier to handle large datasets.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">point</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">99.2222</span><span class="p">,</span> <span class="mf">46.7816</span><span class="p">)</span>
<span class="n">collection</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;USDA/NAIP/DOQQ&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filterBounds</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filterDate</span><span class="p">(</span><span class="s2">&quot;2008-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2018-01-01&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">listContains</span><span class="p">(</span><span class="s2">&quot;system:band_names&quot;</span><span class="p">,</span> <span class="s2">&quot;N&quot;</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">collection</span><span class="o">.</span><span class="n">aggregate_array</span><span class="p">(</span><span class="s2">&quot;system:index&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To local drive</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_export_image_collection</span><span class="p">(</span><span class="n">collection</span><span class="p">,</span> <span class="n">out_dir</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To Google Drive</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_export_image_collection_to_drive</span><span class="p">(</span><span class="n">collection</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="s2">&quot;export&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exporting-feature-collections">
<h3><span class="section-number">17.14.3. </span>Exporting Feature Collections<a class="headerlink" href="#exporting-feature-collections" title="Link to this heading">#</a></h3>
<p>Feature collections, such as state boundaries, are exportable in multiple formats (e.g., Shapefile, GeoJSON, and CSV). This example exports the Alaska state boundary as different vector formats both locally and to Google Drive. Additionally, exported data can be directly loaded into a GeoDataFrame for further manipulation in Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">states</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;TIGER/2018/States&quot;</span><span class="p">)</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">states</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">&quot;NAME&quot;</span><span class="p">,</span> <span class="s2">&quot;Alaska&quot;</span><span class="p">))</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">&quot;Alaska&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>To local drive</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_shp</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;Alaska.shp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_export_vector</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;Alaska.shp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_geojson</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;Alaska.geojson&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_csv</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;Alaska.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdf</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_gdf</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span>
<span class="n">gdf</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_df</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<p>To Google Drive</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_export_vector_to_drive</span><span class="p">(</span>
    <span class="n">fc</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Alaska&quot;</span><span class="p">,</span> <span class="n">fileFormat</span><span class="o">=</span><span class="s2">&quot;SHP&quot;</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="s2">&quot;export&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="creating-timelapse-animations">
<h2><span class="section-number">17.15. </span>Creating Timelapse Animations<a class="headerlink" href="#creating-timelapse-animations" title="Link to this heading">#</a></h2>
<section id="landsat-timelapse">
<h3><span class="section-number">17.15.1. </span>Landsat Timelapse<a class="headerlink" href="#landsat-timelapse" title="Link to this heading">#</a></h3>
<p>The Landsat timelapse tool creates animations of changes over time. Here, we use a defined region of interest (ROI) to generate timelapse GIFs for Las Vegas (1984-2023):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">roi</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="o">-</span><span class="mf">115.5541</span><span class="p">,</span> <span class="mf">35.8044</span><span class="p">,</span> <span class="o">-</span><span class="mf">113.9035</span><span class="p">,</span> <span class="mf">36.5581</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">timelapse</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">landsat_timelapse</span><span class="p">(</span>
    <span class="n">roi</span><span class="p">,</span>
    <span class="n">out_gif</span><span class="o">=</span><span class="s2">&quot;las_vegas.gif&quot;</span><span class="p">,</span>
    <span class="n">start_year</span><span class="o">=</span><span class="mi">1984</span><span class="p">,</span>
    <span class="n">end_year</span><span class="o">=</span><span class="mi">2023</span><span class="p">,</span>
    <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;NIR&quot;</span><span class="p">,</span> <span class="s2">&quot;Red&quot;</span><span class="p">,</span> <span class="s2">&quot;Green&quot;</span><span class="p">],</span>
    <span class="n">frames_per_second</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Las Vegas, NV&quot;</span><span class="p">,</span>
    <span class="n">font_color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">timelapse</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">roi</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="mf">113.8252</span><span class="p">,</span> <span class="mf">22.1988</span><span class="p">,</span> <span class="mf">114.0851</span><span class="p">,</span> <span class="mf">22.3497</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">timelapse</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">landsat_timelapse</span><span class="p">(</span>
    <span class="n">roi</span><span class="p">,</span>
    <span class="n">out_gif</span><span class="o">=</span><span class="s2">&quot;hong_kong.gif&quot;</span><span class="p">,</span>
    <span class="n">start_year</span><span class="o">=</span><span class="mi">1990</span><span class="p">,</span>
    <span class="n">end_year</span><span class="o">=</span><span class="mi">2022</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;01-01&quot;</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="s2">&quot;12-31&quot;</span><span class="p">,</span>
    <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;SWIR1&quot;</span><span class="p">,</span> <span class="s2">&quot;NIR&quot;</span><span class="p">,</span> <span class="s2">&quot;Red&quot;</span><span class="p">],</span>
    <span class="n">frames_per_second</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Hong Kong&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">timelapse</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="sentinel-2-timelapse">
<h3><span class="section-number">17.15.2. </span>Sentinel-2 Timelapse<a class="headerlink" href="#sentinel-2-timelapse" title="Link to this heading">#</a></h3>
<p>This example generates a timelapse of Sentinel-2 data for a selected ROI, with options to draw a custom ROI on the map. The timelapse spans 2017-2023, focusing on the June to September period each year.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">41.718934</span><span class="p">,</span> <span class="o">-</span><span class="mf">86.894547</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p>Pan and zoom the map to an area of interest. Use the drawing tools to draw a rectangle on the map. If no rectangle is drawn, the default rectangle shown below will be used.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">roi</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">user_roi</span>
<span class="k">if</span> <span class="n">roi</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">roi</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="o">-</span><span class="mf">87.0492</span><span class="p">,</span> <span class="mf">41.6545</span><span class="p">,</span> <span class="o">-</span><span class="mf">86.7903</span><span class="p">,</span> <span class="mf">41.7604</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">timelapse</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">sentinel2_timelapse</span><span class="p">(</span>
    <span class="n">roi</span><span class="p">,</span>
    <span class="n">out_gif</span><span class="o">=</span><span class="s2">&quot;sentinel2.gif&quot;</span><span class="p">,</span>
    <span class="n">start_year</span><span class="o">=</span><span class="mi">2017</span><span class="p">,</span>
    <span class="n">end_year</span><span class="o">=</span><span class="mi">2023</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;06-01&quot;</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="s2">&quot;09-01&quot;</span><span class="p">,</span>
    <span class="n">frequency</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span>
    <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;SWIR1&quot;</span><span class="p">,</span> <span class="s2">&quot;NIR&quot;</span><span class="p">,</span> <span class="s2">&quot;Red&quot;</span><span class="p">],</span>
    <span class="n">frames_per_second</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Sentinel-2 Timelapse&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">timelapse</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="modis-timelapse">
<h3><span class="section-number">17.15.3. </span>MODIS Timelapse<a class="headerlink" href="#modis-timelapse" title="Link to this heading">#</a></h3>
<p>The MODIS timelapse can showcase NDVI (vegetation index) or ocean color data over time. In the vegetation example, we visualize NDVI from 2000-2022 with country overlays. The temperature example animates Aqua satellite data for monthly temperature trends from 2018-2020 with continent overlays.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">roi</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">user_roi</span>
<span class="k">if</span> <span class="n">roi</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">roi</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="o">-</span><span class="mf">18.6983</span><span class="p">,</span> <span class="o">-</span><span class="mf">36.1630</span><span class="p">,</span> <span class="mf">52.2293</span><span class="p">,</span> <span class="mf">38.1446</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">timelapse</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">modis_ndvi_timelapse</span><span class="p">(</span>
    <span class="n">roi</span><span class="p">,</span>
    <span class="n">out_gif</span><span class="o">=</span><span class="s2">&quot;ndvi.gif&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="s2">&quot;Terra&quot;</span><span class="p">,</span>
    <span class="n">band</span><span class="o">=</span><span class="s2">&quot;NDVI&quot;</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;2000-01-01&quot;</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="s2">&quot;2022-12-31&quot;</span><span class="p">,</span>
    <span class="n">frames_per_second</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;MODIS NDVI Timelapse&quot;</span><span class="p">,</span>
    <span class="n">overlay_data</span><span class="o">=</span><span class="s2">&quot;countries&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">timelapse</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>MODIS temperature</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">roi</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">user_roi</span>
<span class="k">if</span> <span class="n">roi</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">roi</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="o">-</span><span class="mf">171.21</span><span class="p">,</span> <span class="o">-</span><span class="mf">57.13</span><span class="p">,</span> <span class="mf">177.53</span><span class="p">,</span> <span class="mf">79.99</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">center_object</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">timelapse</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">modis_ocean_color_timelapse</span><span class="p">(</span>
    <span class="n">satellite</span><span class="o">=</span><span class="s2">&quot;Aqua&quot;</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;2018-01-01&quot;</span><span class="p">,</span>
    <span class="n">end_date</span><span class="o">=</span><span class="s2">&quot;2020-12-31&quot;</span><span class="p">,</span>
    <span class="n">roi</span><span class="o">=</span><span class="n">roi</span><span class="p">,</span>
    <span class="n">frequency</span><span class="o">=</span><span class="s2">&quot;month&quot;</span><span class="p">,</span>
    <span class="n">out_gif</span><span class="o">=</span><span class="s2">&quot;temperature.gif&quot;</span><span class="p">,</span>
    <span class="n">overlay_data</span><span class="o">=</span><span class="s2">&quot;continents&quot;</span><span class="p">,</span>
    <span class="n">overlay_color</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">,</span>
    <span class="n">overlay_opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">timelapse</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="goes-timelapse">
<h3><span class="section-number">17.15.4. </span>GOES Timelapse<a class="headerlink" href="#goes-timelapse" title="Link to this heading">#</a></h3>
<p>GOES timelapse generation can animate atmospheric phenomena in near real-time. We create animations for different ROIs, including hurricane tracking and fire events using GOES-17 data with custom time windows and frame rates.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">roi</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="mf">167.1898</span><span class="p">,</span> <span class="o">-</span><span class="mf">28.5757</span><span class="p">,</span> <span class="mf">202.6258</span><span class="p">,</span> <span class="o">-</span><span class="mf">12.4411</span><span class="p">)</span>
<span class="n">start_date</span> <span class="o">=</span> <span class="s2">&quot;2022-01-15T03:00:00&quot;</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="s2">&quot;2022-01-15T07:00:00&quot;</span>
<span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;GOES-17&quot;</span>
<span class="n">scan</span> <span class="o">=</span> <span class="s2">&quot;full_disk&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">timelapse</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">goes_timelapse</span><span class="p">(</span>
    <span class="n">roi</span><span class="p">,</span> <span class="s2">&quot;goes.gif&quot;</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">scan</span><span class="p">,</span> <span class="n">framesPerSecond</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">timelapse</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">roi</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="o">-</span><span class="mf">159.5954</span><span class="p">,</span> <span class="mf">24.5178</span><span class="p">,</span> <span class="o">-</span><span class="mf">114.2438</span><span class="p">,</span> <span class="mf">60.4088</span><span class="p">)</span>
<span class="n">start_date</span> <span class="o">=</span> <span class="s2">&quot;2021-10-24T14:00:00&quot;</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="s2">&quot;2021-10-25T01:00:00&quot;</span>
<span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;GOES-17&quot;</span>
<span class="n">scan</span> <span class="o">=</span> <span class="s2">&quot;full_disk&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">timelapse</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">goes_timelapse</span><span class="p">(</span>
    <span class="n">roi</span><span class="p">,</span> <span class="s2">&quot;hurricane.gif&quot;</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">scan</span><span class="p">,</span> <span class="n">framesPerSecond</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">timelapse</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">roi</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">BBox</span><span class="p">(</span><span class="o">-</span><span class="mf">121.0034</span><span class="p">,</span> <span class="mf">36.8488</span><span class="p">,</span> <span class="o">-</span><span class="mf">117.9052</span><span class="p">,</span> <span class="mf">39.0490</span><span class="p">)</span>
<span class="n">start_date</span> <span class="o">=</span> <span class="s2">&quot;2020-09-05T15:00:00&quot;</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="s2">&quot;2020-09-06T02:00:00&quot;</span>
<span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;GOES-17&quot;</span>
<span class="n">scan</span> <span class="o">=</span> <span class="s2">&quot;full_disk&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">timelapse</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">goes_fire_timelapse</span><span class="p">(</span>
    <span class="n">roi</span><span class="p">,</span> <span class="s2">&quot;fire.gif&quot;</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">scan</span><span class="p">,</span> <span class="n">framesPerSecond</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
<span class="n">geemap</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">timelapse</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="charting">
<h2><span class="section-number">17.16. </span>Charting<a class="headerlink" href="#charting" title="Link to this heading">#</a></h2>
<section id="charting-features">
<h3><span class="section-number">17.16.1. </span>Charting Features<a class="headerlink" href="#charting-features" title="Link to this heading">#</a></h3>
<section id="id1">
<h4><span class="section-number">17.16.1.1. </span>Import libraries<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<p>To create charts for Earth Engine features, import required libraries like <code class="docutils literal notranslate"><span class="pre">calendar</span></code>, <code class="docutils literal notranslate"><span class="pre">ee</span></code>, <code class="docutils literal notranslate"><span class="pre">geemap</span></code>, and <code class="docutils literal notranslate"><span class="pre">chart</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">calendar</span>
<span class="kn">import</span> <span class="nn">ee</span>
<span class="kn">import</span> <span class="nn">geemap</span>
<span class="kn">from</span> <span class="nn">geemap</span> <span class="kn">import</span> <span class="n">chart</span>
</pre></div>
</div>
</div>
</div>
<p>Initialize Earth Engine using <code class="docutils literal notranslate"><span class="pre">geemap.ee_initialize()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_initialize</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="feature-by-feature">
<h4><span class="section-number">17.16.1.2. </span>feature_by_feature<a class="headerlink" href="#feature-by-feature" title="Link to this heading">#</a></h4>
<p>This function allows feature plotting along the x-axis, with values from selected properties represented along the y-axis. Ecoregions data is used to chart average monthly temperature across regions, where months serve as series columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ecoregions</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">ecoregions</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;[0-9][0-9]_tmean|label&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_df</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_property</span> <span class="o">=</span> <span class="s2">&quot;label&quot;</span>
<span class="n">y_properties</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_tmean&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">)]</span>

<span class="n">labels</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_abbr</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># a list of month labels, e.g. [&#39;Jan&#39;, &#39;Feb&#39;, ...]</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;#604791&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#1d6b99&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#39a8a7&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#0f8755&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#76b349&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#f0af07&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#e37d05&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#cf513e&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#96356f&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#724173&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#9c4f97&quot;</span><span class="p">,</span>
    <span class="s2">&quot;#696969&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average Monthly Temperature by Ecoregion&quot;</span>
<span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Ecoregion&quot;</span>
<span class="n">y_label</span> <span class="o">=</span> <span class="s2">&quot;Temperature&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">feature_by_feature</span><span class="p">(</span>
    <span class="n">features</span><span class="p">,</span>
    <span class="n">x_property</span><span class="p">,</span>
    <span class="n">y_properties</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="n">x_label</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="n">y_label</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/MZa99Vf.png" /></p>
</section>
<section id="feature-by-property">
<h4><span class="section-number">17.16.1.3. </span>feature.by_property<a class="headerlink" href="#feature-by-property" title="Link to this heading">#</a></h4>
<p>Displays average precipitation by month for each ecoregion. Properties represent precipitation values for each month, allowing for visual comparison across regions by month.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ecoregions</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">ecoregions</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;[0-9][0-9]_ppt|label&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_df</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_ppt&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">)]</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_abbr</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># a list of month labels, e.g. [&#39;Jan&#39;, &#39;Feb&#39;, ...]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_properties</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">))</span>
<span class="n">series_property</span> <span class="o">=</span> <span class="s2">&quot;label&quot;</span>
<span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average Ecoregion Precipitation by Month&quot;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#f0af07&quot;</span><span class="p">,</span> <span class="s2">&quot;#0f8755&quot;</span><span class="p">,</span> <span class="s2">&quot;#76b349&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">feature_by_property</span><span class="p">(</span>
    <span class="n">features</span><span class="p">,</span>
    <span class="n">x_properties</span><span class="p">,</span>
    <span class="n">series_property</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Precipitation (mm)&quot;</span><span class="p">,</span>
    <span class="n">legend_location</span><span class="o">=</span><span class="s2">&quot;top-left&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/6RhuUc7.png" /></p>
</section>
<section id="feature-groups">
<h4><span class="section-number">17.16.1.4. </span>feature_groups<a class="headerlink" href="#feature-groups" title="Link to this heading">#</a></h4>
<p>Plots groups of features based on property values, showing average January temperature for ecoregions divided into “Warm” and “Cold” categories.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ecoregions</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">ecoregions</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;[0-9][0-9]_ppt|label&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">features</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span>
<span class="n">x_property</span> <span class="o">=</span> <span class="s2">&quot;label&quot;</span>
<span class="n">y_property</span> <span class="o">=</span> <span class="s2">&quot;01_tmean&quot;</span>
<span class="n">series_property</span> <span class="o">=</span> <span class="s2">&quot;warm&quot;</span>
<span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average January Temperature by Ecoregion&quot;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#cf513e&quot;</span><span class="p">,</span> <span class="s2">&quot;#1d6b99&quot;</span><span class="p">]</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Warm&quot;</span><span class="p">,</span> <span class="s2">&quot;Cold&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chart</span><span class="o">.</span><span class="n">feature_groups</span><span class="p">(</span>
    <span class="n">features</span><span class="p">,</span>
    <span class="n">x_property</span><span class="p">,</span>
    <span class="n">y_property</span><span class="p">,</span>
    <span class="n">series_property</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Ecoregion&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;January Temperature (°C)&quot;</span><span class="p">,</span>
    <span class="n">legend_location</span><span class="o">=</span><span class="s2">&quot;top-right&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/YFZlJtc.png" /></p>
</section>
<section id="feature-histogram">
<h4><span class="section-number">17.16.1.5. </span>feature_histogram<a class="headerlink" href="#feature-histogram" title="Link to this heading">#</a></h4>
<p>Generates a histogram displaying July precipitation distribution across a region, showing pixel count for different precipitation levels, useful for understanding data spread.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;OREGONSTATE/PRISM/Norm91m&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">toBands</span><span class="p">()</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mf">123.41</span><span class="p">,</span> <span class="mf">40.43</span><span class="p">,</span> <span class="o">-</span><span class="mf">116.38</span><span class="p">,</span> <span class="mf">45.14</span><span class="p">)</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_to_df</span><span class="p">(</span><span class="n">features</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s2">&quot;07_ppt&quot;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">property</span> <span class="o">=</span> <span class="s2">&quot;07_ppt&quot;</span>
<span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;July Precipitation Distribution for NW USA&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">feature_histogram</span><span class="p">(</span>
    <span class="n">features</span><span class="p">,</span>
    <span class="nb">property</span><span class="p">,</span>
    <span class="n">max_buckets</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Precipitation (mm)&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Pixel Count&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#1d6b99&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/ErIp7Oy.png" /></p>
</section>
</section>
<section id="charting-images">
<h3><span class="section-number">17.16.2. </span>Charting Images<a class="headerlink" href="#charting-images" title="Link to this heading">#</a></h3>
<section id="image-by-region">
<h4><span class="section-number">17.16.2.1. </span>image_by_region<a class="headerlink" href="#image-by-region" title="Link to this heading">#</a></h4>
<p>Displays monthly temperature for each ecoregion using the <code class="docutils literal notranslate"><span class="pre">image_by_region</span></code> function, aggregating data to visualize average temperature by month across regions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ecoregions</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span>
<span class="n">image</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;OREGONSTATE/PRISM/Norm91m&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">toBands</span><span class="p">()</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;[0-9][0-9]_tmean&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">labels</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_abbr</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># a list of month labels, e.g. [&#39;Jan&#39;, &#39;Feb&#39;, ...]</span>
<span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average Monthly Temperature by Ecoregion&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">image_by_region</span><span class="p">(</span>
    <span class="n">image</span><span class="p">,</span>
    <span class="n">ecoregions</span><span class="p">,</span>
    <span class="n">reducer</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">x_property</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Ecoregion&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Temperature&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/y4rp3dK.png" /></p>
</section>
<section id="image-regions">
<h4><span class="section-number">17.16.2.2. </span>image_regions<a class="headerlink" href="#image-regions" title="Link to this heading">#</a></h4>
<p>Generates a chart showing average monthly precipitation across regions, using properties to represent months and comparing precipitation levels.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ecoregions</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span>
<span class="n">image</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;OREGONSTATE/PRISM/Norm91m&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">toBands</span><span class="p">()</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;[0-9][0-9]_ppt&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_ppt&quot;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">)]</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_abbr</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># a list of month labels, e.g. [&#39;Jan&#39;, &#39;Feb&#39;, ...]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_properties</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">))</span>
<span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average Ecoregion Precipitation by Month&quot;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#f0af07&quot;</span><span class="p">,</span> <span class="s2">&quot;#0f8755&quot;</span><span class="p">,</span> <span class="s2">&quot;#76b349&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">image_regions</span><span class="p">(</span>
    <span class="n">image</span><span class="p">,</span>
    <span class="n">ecoregions</span><span class="p">,</span>
    <span class="n">reducer</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">series_property</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">,</span>
    <span class="n">x_labels</span><span class="o">=</span><span class="n">x_properties</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Precipitation (mm)&quot;</span><span class="p">,</span>
    <span class="n">legend_location</span><span class="o">=</span><span class="s2">&quot;top-left&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/5WJVCNY.png" /></p>
</section>
<section id="image-by-class">
<h4><span class="section-number">17.16.2.3. </span>image_by_class<a class="headerlink" href="#image-by-class" title="Link to this heading">#</a></h4>
<p>Displays spectral signatures of ecoregions by wavelength, showing reflectance values across spectral bands for comparison.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ecoregions</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span>

<span class="n">image</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD09A1&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2018-06-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2018-09-01&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;sur_refl_b0[0-7]&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="p">)</span>

<span class="n">wavelengths</span> <span class="o">=</span> <span class="p">[</span><span class="mi">469</span><span class="p">,</span> <span class="mi">555</span><span class="p">,</span> <span class="mi">655</span><span class="p">,</span> <span class="mi">858</span><span class="p">,</span> <span class="mi">1240</span><span class="p">,</span> <span class="mi">1640</span><span class="p">,</span> <span class="mi">2130</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">image_by_class</span><span class="p">(</span>
    <span class="n">image</span><span class="p">,</span>
    <span class="n">class_band</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="n">ecoregions</span><span class="p">,</span>
    <span class="n">reducer</span><span class="o">=</span><span class="s2">&quot;MEAN&quot;</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">x_labels</span><span class="o">=</span><span class="n">wavelengths</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Ecoregion Spectral Signatures&quot;</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Wavelength (nm)&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Reflectance (x1e4)&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#f0af07&quot;</span><span class="p">,</span> <span class="s2">&quot;#0f8755&quot;</span><span class="p">,</span> <span class="s2">&quot;#76b349&quot;</span><span class="p">],</span>
    <span class="n">legend_location</span><span class="o">=</span><span class="s2">&quot;top-left&quot;</span><span class="p">,</span>
    <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;basis&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/XqYHvBV.png" /></p>
</section>
<section id="image-histogram">
<h4><span class="section-number">17.16.2.4. </span>image_histogram<a class="headerlink" href="#image-histogram" title="Link to this heading">#</a></h4>
<p>Generates histograms to visualize MODIS surface reflectance distribution across red, NIR, and SWIR bands, providing insights into data distribution by band.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD09A1&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2018-06-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2018-09-01&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s2">&quot;sur_refl_b01&quot;</span><span class="p">,</span> <span class="s2">&quot;sur_refl_b02&quot;</span><span class="p">,</span> <span class="s2">&quot;sur_refl_b06&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="p">)</span>

<span class="n">region</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">([</span><span class="o">-</span><span class="mf">112.60</span><span class="p">,</span> <span class="mf">40.60</span><span class="p">,</span> <span class="o">-</span><span class="mf">111.18</span><span class="p">,</span> <span class="mf">41.22</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">image_histogram</span><span class="p">(</span>
    <span class="n">image</span><span class="p">,</span>
    <span class="n">region</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">max_buckets</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">min_bucket_width</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="n">max_raw</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
    <span class="n">max_pixels</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mf">1e6</span><span class="p">),</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;MODIS SR Reflectance Histogram&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Red&quot;</span><span class="p">,</span> <span class="s2">&quot;NIR&quot;</span><span class="p">,</span> <span class="s2">&quot;SWIR&quot;</span><span class="p">],</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#cf513e&quot;</span><span class="p">,</span> <span class="s2">&quot;#1d6b99&quot;</span><span class="p">,</span> <span class="s2">&quot;#f0af07&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/mY4yoYH.png" /></p>
</section>
</section>
<section id="charting-image-collections">
<h3><span class="section-number">17.16.3. </span>Charting Image Collections<a class="headerlink" href="#charting-image-collections" title="Link to this heading">#</a></h3>
<section id="image-series">
<h4><span class="section-number">17.16.3.1. </span>image_series<a class="headerlink" href="#image-series" title="Link to this heading">#</a></h4>
<p>Creates a time series chart of vegetation indices (NDVI and EVI) for a forest region, helping to track vegetation health over time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the forest feature collection.</span>
<span class="n">forest</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;Forest&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Load MODIS vegetation indices data and subset a decade of images.</span>
<span class="n">veg_indices</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD13A1&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2010-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-01-01&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s2">&quot;NDVI&quot;</span><span class="p">,</span> <span class="s2">&quot;EVI&quot;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average Vegetation Index Value by Date for Forest&quot;</span>
<span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Year&quot;</span>
<span class="n">y_label</span> <span class="o">=</span> <span class="s2">&quot;Vegetation index (x1e4)&quot;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#e37d05&quot;</span><span class="p">,</span> <span class="s2">&quot;#1d6b99&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">image_series</span><span class="p">(</span>
    <span class="n">veg_indices</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="n">forest</span><span class="p">,</span>
    <span class="n">reducer</span><span class="o">=</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">x_property</span><span class="o">=</span><span class="s2">&quot;system:time_start&quot;</span><span class="p">,</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;LineChart&quot;</span><span class="p">,</span>
    <span class="n">x_cols</span><span class="o">=</span><span class="s2">&quot;date&quot;</span><span class="p">,</span>
    <span class="n">y_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;NDVI&quot;</span><span class="p">,</span> <span class="s2">&quot;EVI&quot;</span><span class="p">],</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="n">x_label</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="n">y_label</span><span class="p">,</span>
    <span class="n">legend_location</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/r9zSJh6.png" /></p>
</section>
<section id="image-series-by-region">
<h4><span class="section-number">17.16.3.2. </span>image_series_by_region<a class="headerlink" href="#image-series-by-region" title="Link to this heading">#</a></h4>
<p>Shows NDVI time series by region, comparing desert, forest, and grassland areas. Each region has a unique series for easy comparison.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the example feature collection.</span>
<span class="n">ecoregions</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span>

<span class="c1"># Load MODIS vegetation indices data and subset a decade of images.</span>
<span class="n">veg_indices</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD13A1&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2010-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-01-01&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s2">&quot;NDVI&quot;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average NDVI Value by Date&quot;</span>
<span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Date&quot;</span>
<span class="n">y_label</span> <span class="o">=</span> <span class="s2">&quot;NDVI (x1e4)&quot;</span>
<span class="n">x_cols</span> <span class="o">=</span> <span class="s2">&quot;index&quot;</span>
<span class="n">y_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Desert&quot;</span><span class="p">,</span> <span class="s2">&quot;Forest&quot;</span><span class="p">,</span> <span class="s2">&quot;Grassland&quot;</span><span class="p">]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#f0af07&quot;</span><span class="p">,</span> <span class="s2">&quot;#0f8755&quot;</span><span class="p">,</span> <span class="s2">&quot;#76b349&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">image_series_by_region</span><span class="p">(</span>
    <span class="n">veg_indices</span><span class="p">,</span>
    <span class="n">regions</span><span class="o">=</span><span class="n">ecoregions</span><span class="p">,</span>
    <span class="n">reducer</span><span class="o">=</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
    <span class="n">band</span><span class="o">=</span><span class="s2">&quot;NDVI&quot;</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">x_property</span><span class="o">=</span><span class="s2">&quot;system:time_start&quot;</span><span class="p">,</span>
    <span class="n">series_property</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">,</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;LineChart&quot;</span><span class="p">,</span>
    <span class="n">x_cols</span><span class="o">=</span><span class="n">x_cols</span><span class="p">,</span>
    <span class="n">y_cols</span><span class="o">=</span><span class="n">y_cols</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="n">x_label</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="n">y_label</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">stroke_width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">legend_location</span><span class="o">=</span><span class="s2">&quot;bottom-left&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/rnILSfI.png" /></p>
</section>
<section id="image-doy-series">
<h4><span class="section-number">17.16.3.3. </span>image_doy_series<a class="headerlink" href="#image-doy-series" title="Link to this heading">#</a></h4>
<p>Plots average vegetation index by day of year for a specific region, showing seasonal vegetation patterns over a decade.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the example feature collection and subset the grassland feature.</span>
<span class="n">grassland</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;Grassland&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Load MODIS vegetation indices data and subset a decade of images.</span>
<span class="n">veg_indices</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD13A1&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2010-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-01-01&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s2">&quot;NDVI&quot;</span><span class="p">,</span> <span class="s2">&quot;EVI&quot;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average Vegetation Index Value by Day of Year for Grassland&quot;</span>
<span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Day of Year&quot;</span>
<span class="n">y_label</span> <span class="o">=</span> <span class="s2">&quot;Vegetation Index (x1e4)&quot;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#f0af07&quot;</span><span class="p">,</span> <span class="s2">&quot;#0f8755&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">image_doy_series</span><span class="p">(</span>
    <span class="n">image_collection</span><span class="o">=</span><span class="n">veg_indices</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="n">grassland</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;LineChart&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="n">x_label</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="n">y_label</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">stroke_width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/F0z088e.png" /></p>
</section>
<section id="image-doy-series-by-year">
<h4><span class="section-number">17.16.3.4. </span>image_doy_series_by_year<a class="headerlink" href="#image-doy-series-by-year" title="Link to this heading">#</a></h4>
<p>Compares NDVI by day of year across two different years, showing how vegetation patterns vary between 2012 and 2019.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the example feature collection and subset the grassland feature.</span>
<span class="n">grassland</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;Grassland&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Load MODIS vegetation indices data and subset years 2012 and 2019.</span>
<span class="n">veg_indices</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD13A1&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span>
            <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2012-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2013-01-01&quot;</span><span class="p">),</span>
            <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2019-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-01-01&quot;</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s2">&quot;NDVI&quot;</span><span class="p">,</span> <span class="s2">&quot;EVI&quot;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average Vegetation Index Value by Day of Year for Grassland&quot;</span>
<span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Day of Year&quot;</span>
<span class="n">y_label</span> <span class="o">=</span> <span class="s2">&quot;Vegetation Index (x1e4)&quot;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#e37d05&quot;</span><span class="p">,</span> <span class="s2">&quot;#1d6b99&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">doy_series_by_year</span><span class="p">(</span>
    <span class="n">veg_indices</span><span class="p">,</span>
    <span class="n">band_name</span><span class="o">=</span><span class="s2">&quot;NDVI&quot;</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="n">grassland</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;LineChart&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="n">x_label</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="n">y_label</span><span class="p">,</span>
    <span class="n">stroke_width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/ui6zpbl.png" /></p>
</section>
<section id="image-doy-series-by-region">
<h4><span class="section-number">17.16.3.5. </span>image_doy_series_by_region<a class="headerlink" href="#image-doy-series-by-region" title="Link to this heading">#</a></h4>
<p>Visualizes average NDVI by day of year across regions, showcasing seasonal changes for desert, forest, and grassland ecoregions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the example feature collection and subset the grassland feature.</span>
<span class="n">ecoregions</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span>

<span class="c1"># Load MODIS vegetation indices data and subset a decade of images.</span>
<span class="n">veg_indices</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD13A1&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2010-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-01-01&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s2">&quot;NDVI&quot;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Average Vegetation Index Value by Day of Year for Grassland&quot;</span>
<span class="n">x_label</span> <span class="o">=</span> <span class="s2">&quot;Day of Year&quot;</span>
<span class="n">y_label</span> <span class="o">=</span> <span class="s2">&quot;Vegetation Index (x1e4)&quot;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#f0af07&quot;</span><span class="p">,</span> <span class="s2">&quot;#0f8755&quot;</span><span class="p">,</span> <span class="s2">&quot;#76b349&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">image_doy_series_by_region</span><span class="p">(</span>
    <span class="n">veg_indices</span><span class="p">,</span>
    <span class="s2">&quot;NDVI&quot;</span><span class="p">,</span>
    <span class="n">ecoregions</span><span class="p">,</span>
    <span class="n">region_reducer</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">year_reducer</span><span class="o">=</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
    <span class="n">start_day</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">end_day</span><span class="o">=</span><span class="mi">366</span><span class="p">,</span>
    <span class="n">series_property</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">,</span>
    <span class="n">stroke_width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;LineChart&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="n">x_label</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="n">y_label</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">legend_location</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/eGqGoRs.png" /></p>
</section>
</section>
<section id="charting-array-and-list">
<h3><span class="section-number">17.16.4. </span>Charting Array and List<a class="headerlink" href="#charting-array-and-list" title="Link to this heading">#</a></h3>
<section id="scatter-plot">
<h4><span class="section-number">17.16.4.1. </span>Scatter Plot<a class="headerlink" href="#scatter-plot" title="Link to this heading">#</a></h4>
<p>Displays relationships between spectral bands, plotting red reflectance against NIR and SWIR reflectance to examine band correlations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the example feature collection and subset the forest feature.</span>
<span class="n">forest</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;Forest&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Define a MODIS surface reflectance composite.</span>
<span class="n">modisSr</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD09A1&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2018-06-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2018-09-01&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;sur_refl_b0[0-7]&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># Reduce MODIS reflectance bands by forest region; get a dictionary with</span>
<span class="c1"># band names as keys, pixel values as lists.</span>
<span class="n">pixel_vals</span> <span class="o">=</span> <span class="n">modisSr</span><span class="o">.</span><span class="n">reduceRegion</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s2">&quot;reducer&quot;</span><span class="p">:</span> <span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">toList</span><span class="p">(),</span> <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="n">forest</span><span class="o">.</span><span class="n">geometry</span><span class="p">(),</span> <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Convert NIR and SWIR value lists to an array to be plotted along the y-axis.</span>
<span class="n">y_values</span> <span class="o">=</span> <span class="n">pixel_vals</span><span class="o">.</span><span class="n">toArray</span><span class="p">([</span><span class="s2">&quot;sur_refl_b02&quot;</span><span class="p">,</span> <span class="s2">&quot;sur_refl_b06&quot;</span><span class="p">])</span>


<span class="c1"># Get the red band value list; to be plotted along the x-axis.</span>
<span class="n">x_values</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">pixel_vals</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sur_refl_b01&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Relationship Among Spectral Bands for Forest Pixels&quot;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;rgba(29,107,153,0.4)&quot;</span><span class="p">,</span> <span class="s2">&quot;rgba(207,81,62,0.4)&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">array_values</span><span class="p">(</span>
    <span class="n">y_values</span><span class="p">,</span>
    <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">x_labels</span><span class="o">=</span><span class="n">x_values</span><span class="p">,</span>
    <span class="n">series_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;NIR&quot;</span><span class="p">,</span> <span class="s2">&quot;SWIR&quot;</span><span class="p">],</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;ScatterChart&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Red reflectance (x1e4)&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;NIR &amp; SWIR reflectance (x1e4)&quot;</span><span class="p">,</span>
    <span class="n">default_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
    <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">800</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/zkPlZIO.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">pixel_vals</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sur_refl_b01&quot;</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">pixel_vals</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sur_refl_b06&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">array_values</span><span class="p">(</span>
    <span class="n">y</span><span class="p">,</span>
    <span class="n">x_labels</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>
    <span class="n">series_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;SWIR&quot;</span><span class="p">],</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;ScatterChart&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;rgba(207,81,62,0.4)&quot;</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Red reflectance (x1e4)&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;SWIR reflectance (x1e4)&quot;</span><span class="p">,</span>
    <span class="n">default_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
    <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">800</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/WHUHjH6.png" /></p>
</section>
<section id="transect-line-plot">
<h4><span class="section-number">17.16.4.2. </span>Transect Line Plot<a class="headerlink" href="#transect-line-plot" title="Link to this heading">#</a></h4>
<p>Plots elevation along a transect line across a specific region, providing a profile view of terrain elevation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a line across the Olympic Peninsula, USA.</span>
<span class="n">transect</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">LineString</span><span class="p">([[</span><span class="o">-</span><span class="mf">122.8</span><span class="p">,</span> <span class="mf">47.8</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">124.5</span><span class="p">,</span> <span class="mf">47.8</span><span class="p">]])</span>

<span class="c1"># Define a pixel coordinate image.</span>
<span class="n">lat_lon_img</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">pixelLonLat</span><span class="p">()</span>

<span class="c1"># Import a digital surface model and add latitude and longitude bands.</span>
<span class="n">elev_img</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;elevation&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">addBands</span><span class="p">(</span><span class="n">lat_lon_img</span><span class="p">)</span>

<span class="c1"># Reduce elevation and coordinate bands by transect line; get a dictionary with</span>
<span class="c1"># band names as keys, pixel values as lists.</span>
<span class="n">elev_transect</span> <span class="o">=</span> <span class="n">elev_img</span><span class="o">.</span><span class="n">reduceRegion</span><span class="p">(</span>
    <span class="n">reducer</span><span class="o">=</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">toList</span><span class="p">(),</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">transect</span><span class="p">,</span>
    <span class="n">scale</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Get longitude and elevation value lists from the reduction dictionary.</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">elev_transect</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;longitude&quot;</span><span class="p">))</span>
<span class="n">elev</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">elev_transect</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;elevation&quot;</span><span class="p">))</span>

<span class="c1"># Sort the longitude and elevation values by ascending longitude.</span>
<span class="n">lon_sort</span> <span class="o">=</span> <span class="n">lon</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">lon</span><span class="p">)</span>
<span class="n">elev_sort</span> <span class="o">=</span> <span class="n">elev</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">lon</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">array_values</span><span class="p">(</span>
    <span class="n">elev_sort</span><span class="p">,</span>
    <span class="n">x_labels</span><span class="o">=</span><span class="n">lon_sort</span><span class="p">,</span>
    <span class="n">series_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Elevation&quot;</span><span class="p">],</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;AreaChart&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#1d6b99&quot;</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Elevation Profile Across Longitude&quot;</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Longitude&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Elevation (m)&quot;</span><span class="p">,</span>
    <span class="n">stroke_width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
    <span class="n">fill_opacities</span><span class="o">=</span><span class="p">[</span><span class="mf">0.4</span><span class="p">],</span>
    <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2500</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/k3XRita.png" /></p>
</section>
<section id="metadata-scatter-plot">
<h4><span class="section-number">17.16.4.3. </span>Metadata Scatter Plot<a class="headerlink" href="#metadata-scatter-plot" title="Link to this heading">#</a></h4>
<p>Visualizes Landsat image metadata by plotting cloud cover against geometric RMSE, useful for quality assessment of image collections.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import a Landsat 8 collection and filter to a single path/row.</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LC08/C02/T1_L2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">expression</span><span class="p">(</span><span class="s2">&quot;WRS_PATH ==  45 &amp;&amp; WRS_ROW == 30&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Reduce image properties to a series of lists; one for each selected property.</span>
<span class="n">propVals</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">reduceColumns</span><span class="p">(</span>
    <span class="n">reducer</span><span class="o">=</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">toList</span><span class="p">()</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
    <span class="n">selectors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;CLOUD_COVER&quot;</span><span class="p">,</span> <span class="s2">&quot;GEOMETRIC_RMSE_MODEL&quot;</span><span class="p">],</span>
<span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;list&quot;</span><span class="p">)</span>

<span class="c1"># Get selected image property value lists; to be plotted along x and y axes.</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">propVals</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">propVals</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">geemap</span><span class="o">.</span><span class="n">hex_to_rgba</span><span class="p">(</span><span class="s2">&quot;#96356f&quot;</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">array_values</span><span class="p">(</span>
    <span class="n">y</span><span class="p">,</span>
    <span class="n">x_labels</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>
    <span class="n">series_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;RMSE&quot;</span><span class="p">],</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;ScatterChart&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Landsat 8 Image Collection Metadata (045030)&quot;</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Cloud cover (%)&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Geometric RMSE (m)&quot;</span><span class="p">,</span>
    <span class="n">default_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/3COY3xd.png" /></p>
</section>
<section id="mapped-function-scatter-line-plot">
<h4><span class="section-number">17.16.4.4. </span>Mapped Function Scatter &amp; Line Plot<a class="headerlink" href="#mapped-function-scatter-line-plot" title="Link to this heading">#</a></h4>
<p>Plots a sine function as a line chart, mapping mathematical functions onto chart axes for visualization.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="n">start</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span>
<span class="n">end</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="o">.</span><span class="n">sequence</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">sin_func</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">ee</span><span class="o">.</span><span class="n">Number</span><span class="p">(</span><span class="n">val</span><span class="p">)</span><span class="o">.</span><span class="n">sin</span><span class="p">()</span>


<span class="n">values</span> <span class="o">=</span> <span class="n">points</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sin_func</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">array_values</span><span class="p">(</span>
    <span class="n">values</span><span class="p">,</span>
    <span class="n">points</span><span class="p">,</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;LineChart&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#39a8a7&quot;</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Sine Function&quot;</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;radians&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;sin(x)&quot;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;circle&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/7qcxvey.png" /></p>
</section>
</section>
<section id="charting-data-table">
<h3><span class="section-number">17.16.5. </span>Charting Data Table<a class="headerlink" href="#charting-data-table" title="Link to this heading">#</a></h3>
<section id="manual-datatable-chart">
<h4><span class="section-number">17.16.5.1. </span>Manual DataTable chart<a class="headerlink" href="#manual-datatable-chart" title="Link to this heading">#</a></h4>
<p>Creates a chart from a manually created DataTable, such as US state populations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;State&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;CA&quot;</span><span class="p">,</span> <span class="s2">&quot;NY&quot;</span><span class="p">,</span> <span class="s2">&quot;IL&quot;</span><span class="p">,</span> <span class="s2">&quot;MI&quot;</span><span class="p">,</span> <span class="s2">&quot;OR&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Population&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">37253956</span><span class="p">,</span> <span class="mi">19378102</span><span class="p">,</span> <span class="mi">12830632</span><span class="p">,</span> <span class="mi">9883640</span><span class="p">,</span> <span class="mi">3831074</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span>
    <span class="n">x_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;State&quot;</span><span class="p">],</span>
    <span class="n">y_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Population&quot;</span><span class="p">],</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;ColumnChart&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#1d6b99&quot;</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;State Population (US census, 2010)&quot;</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;State&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Population&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/vuxNmuh.png" /></p>
</section>
<section id="computed-datatable-chart">
<h4><span class="section-number">17.16.5.2. </span>Computed DataTable chart<a class="headerlink" href="#computed-datatable-chart" title="Link to this heading">#</a></h4>
<p>Computes a DataTable from MODIS vegetation indices data for a forest area, then charts NDVI and EVI time series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the example feature collection and subset the forest feature.</span>
<span class="n">forest</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/google/charts_feature_example&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;Forest&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Load MODIS vegetation indices data and subset a decade of images.</span>
<span class="n">veg_indices</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD13A1&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="s2">&quot;2010-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-01-01&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s2">&quot;NDVI&quot;</span><span class="p">,</span> <span class="s2">&quot;EVI&quot;</span><span class="p">])</span>
<span class="p">)</span>

<span class="c1"># Build a feature collection where each feature has a property that represents</span>
<span class="c1"># a DataFrame row.</span>


<span class="k">def</span> <span class="nf">aggregate</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
    <span class="c1"># Reduce the image to the mean of pixels intersecting the forest ecoregion.</span>
    <span class="n">stat</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">reduceRegion</span><span class="p">(</span>
        <span class="o">**</span><span class="p">{</span><span class="s2">&quot;reducer&quot;</span><span class="p">:</span> <span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="n">forest</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">}</span>
    <span class="p">)</span>

    <span class="c1"># Extract the reduction results along with the image date.</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">image_date</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
    <span class="n">evi</span> <span class="o">=</span> <span class="n">stat</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;EVI&quot;</span><span class="p">)</span>
    <span class="n">ndvi</span> <span class="o">=</span> <span class="n">stat</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;NDVI&quot;</span><span class="p">)</span>

    <span class="c1"># Make a list of observation attributes to define a row in the DataTable.</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">([</span><span class="n">date</span><span class="p">,</span> <span class="n">evi</span><span class="p">,</span> <span class="n">ndvi</span><span class="p">])</span>

    <span class="c1"># Return the row as a property of an ee.Feature.</span>
    <span class="k">return</span> <span class="n">ee</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;row&quot;</span><span class="p">:</span> <span class="n">row</span><span class="p">})</span>


<span class="n">reduction_table</span> <span class="o">=</span> <span class="n">veg_indices</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">aggregate</span><span class="p">)</span>

<span class="c1"># Aggregate the &#39;row&#39; property from all features in the new feature collection</span>
<span class="c1"># to make a server-side 2-D list (DataTable).</span>
<span class="n">data_table_server</span> <span class="o">=</span> <span class="n">reduction_table</span><span class="o">.</span><span class="n">aggregate_array</span><span class="p">(</span><span class="s2">&quot;row&quot;</span><span class="p">)</span>

<span class="c1"># Define column names and properties for the DataTable. The order should</span>
<span class="c1"># correspond to the order in the construction of the &#39;row&#39; property above.</span>
<span class="n">column_header</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">([[</span><span class="s2">&quot;Date&quot;</span><span class="p">,</span> <span class="s2">&quot;EVI&quot;</span><span class="p">,</span> <span class="s2">&quot;NDVI&quot;</span><span class="p">]])</span>

<span class="c1"># Concatenate the column header to the table.</span>
<span class="n">data_table_server</span> <span class="o">=</span> <span class="n">column_header</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">data_table_server</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_table</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">DataTable</span><span class="p">(</span><span class="n">data_table_server</span><span class="p">,</span> <span class="n">date_column</span><span class="o">=</span><span class="s2">&quot;Date&quot;</span><span class="p">)</span>
<span class="n">data_table</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span>
    <span class="n">data_table</span><span class="p">,</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;LineChart&quot;</span><span class="p">,</span>
    <span class="n">x_cols</span><span class="o">=</span><span class="s2">&quot;Date&quot;</span><span class="p">,</span>
    <span class="n">y_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;EVI&quot;</span><span class="p">,</span> <span class="s2">&quot;NDVI&quot;</span><span class="p">],</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#e37d05&quot;</span><span class="p">,</span> <span class="s2">&quot;#1d6b99&quot;</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Average Vegetation Index Value by Date for Forest&quot;</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Date&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Vegetation index (x1e4)&quot;</span><span class="p">,</span>
    <span class="n">stroke_width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">legend_location</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/PWei7QC.png" /></p>
</section>
<section id="interval-chart">
<h4><span class="section-number">17.16.5.3. </span>Interval chart<a class="headerlink" href="#interval-chart" title="Link to this heading">#</a></h4>
<p>Displays annual NDVI time series with variance, showing inter-annual vegetation change and variability across the year.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a point to extract an NDVI time series for.</span>
<span class="n">geometry</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="o">-</span><span class="mf">121.679</span><span class="p">,</span> <span class="mf">36.479</span><span class="p">])</span>

<span class="c1"># Define a band of interest (NDVI), import the MODIS vegetation index dataset,</span>
<span class="c1"># and select the band.</span>
<span class="n">band</span> <span class="o">=</span> <span class="s2">&quot;NDVI&quot;</span>
<span class="n">ndvi_col</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="s2">&quot;MODIS/061/MOD13Q1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">band</span><span class="p">)</span>

<span class="c1"># Map over the collection to add a day of year (doy) property to each image.</span>


<span class="k">def</span> <span class="nf">set_doy</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
    <span class="n">doy</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Date</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;system:time_start&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">getRelative</span><span class="p">(</span><span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">)</span>
    <span class="c1"># Add 8 to day of year number so that the doy label represents the middle of</span>
    <span class="c1"># the 16-day MODIS NDVI composite.</span>
    <span class="k">return</span> <span class="n">img</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;doy&quot;</span><span class="p">,</span> <span class="n">ee</span><span class="o">.</span><span class="n">Number</span><span class="p">(</span><span class="n">doy</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span>


<span class="n">ndvi_col</span> <span class="o">=</span> <span class="n">ndvi_col</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">set_doy</span><span class="p">)</span>

<span class="c1"># Join all coincident day of year observations into a set of image collections.</span>
<span class="n">distinct_doy</span> <span class="o">=</span> <span class="n">ndvi_col</span><span class="o">.</span><span class="n">filterDate</span><span class="p">(</span><span class="s2">&quot;2013-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2014-01-01&quot;</span><span class="p">)</span>
<span class="nb">filter</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Filter</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;leftField&quot;</span><span class="p">:</span> <span class="s2">&quot;doy&quot;</span><span class="p">,</span> <span class="s2">&quot;rightField&quot;</span><span class="p">:</span> <span class="s2">&quot;doy&quot;</span><span class="p">})</span>
<span class="n">join</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Join</span><span class="o">.</span><span class="n">saveAll</span><span class="p">(</span><span class="s2">&quot;doy_matches&quot;</span><span class="p">)</span>
<span class="n">join_col</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="n">join</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">distinct_doy</span><span class="p">,</span> <span class="n">ndvi_col</span><span class="p">,</span> <span class="nb">filter</span><span class="p">))</span>

<span class="c1"># Calculate the absolute range, interquartile range, and median for the set</span>
<span class="c1"># of images composing each coincident doy observation group. The result is</span>
<span class="c1"># an image collection with an image representative per unique doy observation</span>
<span class="c1"># with bands that describe the 0, 25, 50, 75, 100 percentiles for the set of</span>
<span class="c1"># coincident doy images.</span>


<span class="k">def</span> <span class="nf">cal_percentiles</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
    <span class="n">doyCol</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="o">.</span><span class="n">fromImages</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;doy_matches&quot;</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">doyCol</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span>
        <span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">percentile</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;p0&quot;</span><span class="p">,</span> <span class="s2">&quot;p25&quot;</span><span class="p">,</span> <span class="s2">&quot;p50&quot;</span><span class="p">,</span> <span class="s2">&quot;p75&quot;</span><span class="p">,</span> <span class="s2">&quot;p100&quot;</span><span class="p">])</span>
    <span class="p">)</span><span class="o">.</span><span class="n">set</span><span class="p">({</span><span class="s2">&quot;doy&quot;</span><span class="p">:</span> <span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;doy&quot;</span><span class="p">)})</span>


<span class="n">comp</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">ImageCollection</span><span class="p">(</span><span class="n">join_col</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">cal_percentiles</span><span class="p">))</span>

<span class="c1"># Extract the inter-annual NDVI doy percentile statistics for the</span>
<span class="c1"># point of interest per unique doy representative. The result is</span>
<span class="c1"># is a feature collection where each feature is a doy representative that</span>
<span class="c1"># contains a property (row) describing the respective inter-annual NDVI</span>
<span class="c1"># variance, formatted as a list of values.</span>


<span class="k">def</span> <span class="nf">order_percentiles</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
    <span class="n">stats</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Dictionary</span><span class="p">(</span>
        <span class="n">img</span><span class="o">.</span><span class="n">reduceRegion</span><span class="p">(</span>
            <span class="o">**</span><span class="p">{</span><span class="s2">&quot;reducer&quot;</span><span class="p">:</span> <span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">first</span><span class="p">(),</span> <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="n">geometry</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="mi">250</span><span class="p">}</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Order the percentile reduction elements according to how you want columns</span>
    <span class="c1"># in the DataTable arranged (x-axis values need to be first).</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;doy&quot;</span><span class="p">),</span>
            <span class="n">stats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">band</span> <span class="o">+</span> <span class="s2">&quot;_p50&quot;</span><span class="p">),</span>
            <span class="n">stats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">band</span> <span class="o">+</span> <span class="s2">&quot;_p0&quot;</span><span class="p">),</span>
            <span class="n">stats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">band</span> <span class="o">+</span> <span class="s2">&quot;_p25&quot;</span><span class="p">),</span>
            <span class="n">stats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">band</span> <span class="o">+</span> <span class="s2">&quot;_p75&quot;</span><span class="p">),</span>
            <span class="n">stats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">band</span> <span class="o">+</span> <span class="s2">&quot;_p100&quot;</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Return the row as a property of an ee.Feature.</span>
    <span class="k">return</span> <span class="n">ee</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;row&quot;</span><span class="p">:</span> <span class="n">row</span><span class="p">})</span>


<span class="n">reduction_table</span> <span class="o">=</span> <span class="n">comp</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">order_percentiles</span><span class="p">)</span>

<span class="c1"># Aggregate the &#39;row&#39; properties to make a server-side 2-D array (DataTable).</span>
<span class="n">data_table_server</span> <span class="o">=</span> <span class="n">reduction_table</span><span class="o">.</span><span class="n">aggregate_array</span><span class="p">(</span><span class="s2">&quot;row&quot;</span><span class="p">)</span>

<span class="c1"># Define column names and properties for the DataTable. The order should</span>
<span class="c1"># correspond to the order in the construction of the &#39;row&#39; property above.</span>
<span class="n">column_header</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">List</span><span class="p">([[</span><span class="s2">&quot;DOY&quot;</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;p0&quot;</span><span class="p">,</span> <span class="s2">&quot;p25&quot;</span><span class="p">,</span> <span class="s2">&quot;p75&quot;</span><span class="p">,</span> <span class="s2">&quot;p100&quot;</span><span class="p">]])</span>

<span class="c1"># Concatenate the column header to the table.</span>
<span class="n">data_table_server</span> <span class="o">=</span> <span class="n">column_header</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">data_table_server</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">DataTable</span><span class="p">(</span><span class="n">data_table_server</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">chart</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span>
    <span class="n">chart_type</span><span class="o">=</span><span class="s2">&quot;IntervalChart&quot;</span><span class="p">,</span>
    <span class="n">x_cols</span><span class="o">=</span><span class="s2">&quot;DOY&quot;</span><span class="p">,</span>
    <span class="n">y_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;p0&quot;</span><span class="p">,</span> <span class="s2">&quot;p25&quot;</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;p75&quot;</span><span class="p">,</span> <span class="s2">&quot;p100&quot;</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Annual NDVI Time Series with Inter-Annual Variance&quot;</span><span class="p">,</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;Day of Year&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Vegetation index (x1e4)&quot;</span><span class="p">,</span>
    <span class="n">stroke_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;between&quot;</span><span class="p">,</span>
    <span class="n">fill_colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#b6d1c6&quot;</span><span class="p">,</span> <span class="s2">&quot;#83b191&quot;</span><span class="p">,</span> <span class="s2">&quot;#83b191&quot;</span><span class="p">,</span> <span class="s2">&quot;#b6d1c6&quot;</span><span class="p">],</span>
    <span class="n">fill_opacities</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;p0&quot;</span><span class="p">,</span> <span class="s2">&quot;p25&quot;</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;p75&quot;</span><span class="p">,</span> <span class="s2">&quot;p100&quot;</span><span class="p">],</span>
    <span class="n">display_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">legend_location</span><span class="o">=</span><span class="s2">&quot;top-right&quot;</span><span class="p">,</span>
    <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fig</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="" src="https://i.imgur.com/i8ZrGPR.png" /></p>
</section>
</section>
</section>
<section id="exercises">
<h2><span class="section-number">17.17. </span>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h2>
<section id="exercise-1-visualizing-dem-data">
<h3><span class="section-number">17.17.1. </span>Exercise 1: Visualizing DEM Data<a class="headerlink" href="#exercise-1-visualizing-dem-data" title="Link to this heading">#</a></h3>
<p>Find a DEM dataset in the <a class="reference external" href="https://developers.google.com/earth-engine/datasets">Earth Engine Data Catalog</a> and clip it to a specific area (e.g., your country, state, or city). Display it with an appropriate color palette. For example, the sample map below shows the DEM of the state of Colorado.</p>
<p><img alt="" src="https://i.imgur.com/OLeSt7n.png" /></p>
</section>
<section id="exercise-2-cloud-free-composite-with-sentinel-2-or-landsat">
<h3><span class="section-number">17.17.2. </span>Exercise 2: Cloud-Free Composite with Sentinel-2 or Landsat<a class="headerlink" href="#exercise-2-cloud-free-composite-with-sentinel-2-or-landsat" title="Link to this heading">#</a></h3>
<p>Use Sentinel-2 or Landsat-9 data to create a cloud-free composite for a specific year in a region of your choice.</p>
<p>Use <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S2_SR_HARMONIZED">Sentinel-2</a> or <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog/landsat-9">Landsat-9 data</a> data to create a cloud-free composite for a specific year in a region of your choice. Display the imagery on the map with a proper band combination. For example, the sample map below shows a cloud-free false-color composite of Sentinel-2 imagery of the year 2021 for the state of Colorado.</p>
<p><img alt="" src="https://i.imgur.com/xkxpkS1.png" /></p>
</section>
<section id="exercise-3-visualizing-naip-imagery">
<h3><span class="section-number">17.17.3. </span>Exercise 3: Visualizing NAIP Imagery<a class="headerlink" href="#exercise-3-visualizing-naip-imagery" title="Link to this heading">#</a></h3>
<p>Use <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog/USDA_NAIP_DOQQ">NAIP</a> imagery to create a cloud-free imagery for a U.S. county of your choice. For example, the sample map below shows a cloud-free true-color composite of NAIP imagery for Knox County, Tennessee. Keep in mind that there might be some counties with the same name in different states, so make sure to select the correct county for the selected state.</p>
<p><img alt="" src="https://i.imgur.com/iZSGqGS.png" /></p>
</section>
<section id="exercise-4-visualizing-watershed-boundaries">
<h3><span class="section-number">17.17.4. </span>Exercise 4: Visualizing Watershed Boundaries<a class="headerlink" href="#exercise-4-visualizing-watershed-boundaries" title="Link to this heading">#</a></h3>
<p>Visualize the <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog/USGS_WBD_2017_HUC04">USGS Watershed Boundary Dataset</a> with outline color only, no fill color.</p>
<p><img alt="" src="https://i.imgur.com/PLlNFq3.png" /></p>
</section>
<section id="exercise-5-visualizing-land-cover-change">
<h3><span class="section-number">17.17.5. </span>Exercise 5: Visualizing Land Cover Change<a class="headerlink" href="#exercise-5-visualizing-land-cover-change" title="Link to this heading">#</a></h3>
<p>Use the <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog/USGS_NLCD_RELEASES_2019_REL_NLCD">USGS National Land Cover Database</a> and <a class="reference external" href="https://developers.google.com/earth-engine/datasets/catalog/TIGER_2018_States">US Census States</a> to create a split-panel map for visualizing land cover change (2001-2019) for a US state of your choice. Make sure you add the NLCD legend to the map.</p>
<p><img alt="" src="https://i.imgur.com/Au7Q5Ln.png" /></p>
</section>
<section id="exercise-6-creating-a-landsat-timelapse-animation">
<h3><span class="section-number">17.17.6. </span>Exercise 6: Creating a Landsat Timelapse Animation<a class="headerlink" href="#exercise-6-creating-a-landsat-timelapse-animation" title="Link to this heading">#</a></h3>
<p>Generate a timelapse animation using Landsat data to show changes over time for a selected region.</p>
<p><img alt="Spain" src="https://github.com/user-attachments/assets/f12839c0-1c30-404d-b0ab-0fa12ce12d24" /></p>
</section>
</section>
<section id="summary">
<h2><span class="section-number">17.18. </span>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p>This lecture introduced <strong>geemap</strong>, a Python library designed to streamline geospatial data visualization and analysis in the <strong>Google Earth Engine (GEE)</strong> environment. Geemap enables users to perform GIS and remote sensing tasks with GEE data interactively in Python notebooks. Key topics included setting up GEE with geemap, loading and manipulating data from the Earth Engine Data Catalog, and processing vector and raster data. Techniques for creating animated timelapses using data from Landsat, Sentinel, MODIS, and GOES illustrated dynamic landscape monitoring, while interactive charting tools, like scatter plots and time series, supported data exploration and trend analysis. The lecture also covered exporting images and features in multiple formats, such as GeoTIFF, Shapefile, and CSV, to facilitate data sharing. Overall, this session provided a foundational understanding of geemap’s capabilities, enabling users to efficiently visualize, analyze, and derive insights from Earth observation data in a Python setting.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "giswqs/geog-312",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./book/geospatial"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="maplibre.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">16. </span>MapLibre</p>
      </div>
    </a>
    <a class="right-next"
       href="samgeo.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">18. </span>SAMGeo</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">17.1. Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">17.2. Learning Objectives</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">17.2.1. Prerequisites</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-google-earth-engine">17.3. Introduction to Google Earth Engine</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#google-earth-engine-overview">17.3.1. Google Earth Engine Overview</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-geemap">17.3.2. Installing Geemap</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-libraries">17.3.3. Import Libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#authenticate-and-initialize-earth-engine">17.3.4. Authenticate and Initialize Earth Engine</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-interactive-maps">17.3.5. Creating Interactive Maps</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example-maps">17.3.5.1. Example Maps</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-basemaps">17.3.6. Adding Basemaps</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-multiple-basemaps">17.3.6.1. Adding Multiple Basemaps</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#listing-available-basemaps">17.3.6.2. Listing Available Basemaps</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#google-basemaps">17.3.7. Google Basemaps</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-interactive-maps-and-tools">17.4. Introduction to Interactive Maps and Tools</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basemap-selector">17.4.1. Basemap Selector</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#layer-manager">17.4.2. Layer Manager</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inspector-tool">17.4.3. Inspector Tool</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#layer-editor">17.4.4. Layer Editor</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#single-band-image">17.4.4.1. Single-Band image</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-band-image">17.4.4.2. Multi-Band image</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-collection">17.4.4.3. Feature Collection</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-control">17.4.5. Draw Control</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-earth-engine-data-catalog">17.5. The Earth Engine Data Catalog</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#searching-datasets-on-the-earth-engine-website">17.5.1. Searching Datasets on the Earth Engine Website</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#searching-datasets-within-geemap">17.5.2. Searching Datasets Within Geemap</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-datasets-module-in-geemap">17.5.3. Using the Datasets Module in Geemap</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#earth-engine-data-types">17.6. Earth Engine Data Types</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#earth-engine-raster-data">17.7. Earth Engine Raster Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image">17.7.1. Image</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-earth-engine-images">17.7.1.1. Loading Earth Engine Images</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-earth-engine-images">17.7.1.2. Visualizing Earth Engine Images</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imagecollection">17.7.2. ImageCollection</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-image-collections">17.7.2.1. Loading Image Collections</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-image-collections">17.7.2.2. Filtering Image Collections</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-image-collections">17.7.2.3. Visualizing Image Collections</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#earth-engine-vector-data">17.8. Earth Engine Vector Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-feature-collections">17.8.1. Loading Feature Collections</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-feature-collections">17.8.2. Filtering Feature Collections</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-feature-collections">17.8.3. Visualizing Feature Collections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-tools-for-visualizing-earth-engine-data">17.9. More Tools for Visualizing Earth Engine Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-plotting-tool">17.9.1. Using the Plotting Tool</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#legends">17.9.2. Legends</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#built-in-legends">17.9.2.1. Built-in Legends</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-legends">17.9.2.2. Custom Legends</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#color-bars">17.9.3. Color Bars</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#split-panel-maps">17.9.4. Split-panel Maps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#linked-maps">17.9.5. Linked Maps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#timeseries-inspector">17.9.6. Timeseries Inspector</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#time-slider">17.9.7. Time Slider</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#processing-of-vector-data">17.10. Processing of Vector Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#from-geojson">17.10.1. From GeoJSON</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#from-shapefile">17.10.2. From Shapefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#from-geodataframe">17.10.3. From GeoDataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-geojson">17.10.4. To GeoJSON</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-shapefile">17.10.5. To Shapefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-geodataframe">17.10.6. To GeoDataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-dataframe">17.10.7. To DataFrame</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#to-csv">17.10.8. To CSV</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#processing-of-raster-data">17.11. Processing of Raster Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extract-pixel-values">17.11.1. Extract Pixel Values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-values-to-points">17.11.1.1. Extracting Values to Points</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-pixel-values-along-a-transect">17.11.1.2. Extracting Pixel Values Along a Transect</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#zonal-statistics">17.11.2. Zonal Statistics</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#zonal-statistics-with-an-image-and-a-feature-collection">17.11.2.1. Zonal Statistics with an Image and a Feature Collection</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#zonal-statistics-by-group">17.11.2.2. Zonal Statistics by Group</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#zonal-statistics-with-two-images">17.11.2.3. Zonal Statistics with Two Images</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#map-algebra">17.11.3. Map Algebra</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-local-geospatial-data">17.12. Working with Local Geospatial Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#raster-data">17.12.1. Raster Data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#single-band-raster-data">17.12.1.1. Single-Band Raster Data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-band-raster-data">17.12.1.2. Multi-Band Raster Data</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vector-data">17.12.2. Vector Data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#geojson">17.12.2.1. GeoJSON</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#shapefile">17.12.2.2. Shapefile</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#geodataframe">17.12.2.3. GeoDataFrame</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#geopackage">17.12.2.4. GeoPackage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#csv-to-vector">17.12.2.5. CSV to Vector</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-cloud-optimized-geotiffs">17.13. Accessing Cloud Optimized GeoTIFFs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-optimized-geotiffs-cog">17.13.1. Cloud Optimized GeoTIFFs (COG)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spatiotemporal-asset-catalog-stac">17.13.2. SpatioTemporal Asset Catalog (STAC)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-earth-engine-data">17.14. Exporting Earth Engine Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-images">17.14.1. Exporting Images</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-image-collections">17.14.2. Exporting Image Collections</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-feature-collections">17.14.3. Exporting Feature Collections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-timelapse-animations">17.15. Creating Timelapse Animations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#landsat-timelapse">17.15.1. Landsat Timelapse</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sentinel-2-timelapse">17.15.2. Sentinel-2 Timelapse</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modis-timelapse">17.15.3. MODIS Timelapse</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#goes-timelapse">17.15.4. GOES Timelapse</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#charting">17.16. Charting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-features">17.16.1. Charting Features</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">17.16.1.1. Import libraries</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-by-feature">17.16.1.2. feature_by_feature</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-by-property">17.16.1.3. feature.by_property</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-groups">17.16.1.4. feature_groups</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-histogram">17.16.1.5. feature_histogram</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-images">17.16.2. Charting Images</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-by-region">17.16.2.1. image_by_region</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-regions">17.16.2.2. image_regions</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-by-class">17.16.2.3. image_by_class</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-histogram">17.16.2.4. image_histogram</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-image-collections">17.16.3. Charting Image Collections</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-series">17.16.3.1. image_series</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-series-by-region">17.16.3.2. image_series_by_region</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-doy-series">17.16.3.3. image_doy_series</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-doy-series-by-year">17.16.3.4. image_doy_series_by_year</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#image-doy-series-by-region">17.16.3.5. image_doy_series_by_region</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-array-and-list">17.16.4. Charting Array and List</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#scatter-plot">17.16.4.1. Scatter Plot</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#transect-line-plot">17.16.4.2. Transect Line Plot</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metadata-scatter-plot">17.16.4.3. Metadata Scatter Plot</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mapped-function-scatter-line-plot">17.16.4.4. Mapped Function Scatter &amp; Line Plot</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#charting-data-table">17.16.5. Charting Data Table</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#manual-datatable-chart">17.16.5.1. Manual DataTable chart</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#computed-datatable-chart">17.16.5.2. Computed DataTable chart</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#interval-chart">17.16.5.3. Interval chart</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">17.17. Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1-visualizing-dem-data">17.17.1. Exercise 1: Visualizing DEM Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2-cloud-free-composite-with-sentinel-2-or-landsat">17.17.2. Exercise 2: Cloud-Free Composite with Sentinel-2 or Landsat</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3-visualizing-naip-imagery">17.17.3. Exercise 3: Visualizing NAIP Imagery</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-4-visualizing-watershed-boundaries">17.17.4. Exercise 4: Visualizing Watershed Boundaries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-5-visualizing-land-cover-change">17.17.5. Exercise 5: Visualizing Land Cover Change</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-6-creating-a-landsat-timelapse-animation">17.17.6. Exercise 6: Creating a Landsat Timelapse Animation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">17.18. Summary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Qiusheng Wu
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>